# çˆ±å©´æœˆå­ä¸­å¿ƒå°ç¨‹åºç”¨æˆ·ç«¯APIæ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [è®¤è¯è¯´æ˜](#è®¤è¯è¯´æ˜)
- [ç”¨æˆ·è®¤è¯](#ç”¨æˆ·è®¤è¯)
- [å•†å“ç®¡ç†](#å•†å“ç®¡ç†)
- [è´­ç‰©è½¦](#è´­ç‰©è½¦)
- [æ”¶è´§åœ°å€](#æ”¶è´§åœ°å€)
- [è®¢å•ç®¡ç†](#è®¢å•ç®¡ç†)
- [å®¶åº­å¥—é¤](#å®¶åº­å¥—é¤)
- [ç§¯åˆ†ç³»ç»Ÿ](#ç§¯åˆ†ç³»ç»Ÿ)
- [é”™è¯¯å“åº”](#é”™è¯¯å“åº”)

---

## æ¦‚è¿°

### åŸºç¡€ä¿¡æ¯

- **APIåŸºç¡€URL**: `https://aiying.qdhs.cloud/api`
- **æ•°æ®æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8
- **è¯·æ±‚æ–¹æ³•**: GET, POST, PUT, DELETE

### ç»Ÿä¸€å“åº”æ ¼å¼

æ‰€æœ‰æ¥å£ç»Ÿä¸€è¿”å›ä»¥ä¸‹æ ¼å¼ï¼š

```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {}
}
```

### HTTPçŠ¶æ€ç 

| çŠ¶æ€ç  | è¯´æ˜ |
|--------|------|
| 200 | è¯·æ±‚æˆåŠŸ |
| 201 | åˆ›å»ºæˆåŠŸ |
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 401 | æœªè®¤è¯æˆ–Tokenè¿‡æœŸ |
| 403 | æ— æƒé™è®¿é—® |
| 404 | èµ„æºä¸å­˜åœ¨ |
| 500 | æœåŠ¡å™¨é”™è¯¯ |

---

## è®¤è¯è¯´æ˜

### è®¤è¯æ–¹å¼

å°ç¨‹åºç«¯APIä½¿ç”¨**å¾®ä¿¡ç™»å½•**è·å–Tokenï¼Œåç»­è¯·æ±‚éœ€åœ¨Headerä¸­æºå¸¦Tokenã€‚

### Tokenä½¿ç”¨

åœ¨éœ€è¦è®¤è¯çš„æ¥å£ä¸­ï¼Œè¯·åœ¨è¯·æ±‚å¤´æ·»åŠ ï¼š

```
Authorization: Bearer {your-token}
```

### Tokenè·å–

é€šè¿‡[å¾®ä¿¡å°ç¨‹åºç™»å½•](#å¾®ä¿¡å°ç¨‹åºç™»å½•)æ¥å£è·å–Tokenã€‚

---

## ç”¨æˆ·è®¤è¯

### 1. å¾®ä¿¡å°ç¨‹åºç™»å½•

**æ¥å£**: `POST /auth/wechat-login`

**è¯´æ˜**: ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºçš„codeæ¢å–Token

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| code | string | æ˜¯ | å¾®ä¿¡ç™»å½•codeï¼ˆé€šè¿‡wx.loginè·å–ï¼‰ |
| encrypted_data | string | å¦ | åŠ å¯†æ•°æ®ï¼ˆè·å–æ‰‹æœºå·æ—¶éœ€è¦ï¼‰ |
| iv | string | å¦ | åŠ å¯†ç®—æ³•åˆå§‹å‘é‡ |

**è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "code": "081234567890",
  "encrypted_data": "...",
  "iv": "..."
}
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "2|AbCdEfGhIjKlMnOpQrStUvWxYz1234567890",
    "user": {
      "id": 1,
      "openid": "oXXXX-XXXXXXXXXXXXXXXXXXX",
      "nickname": "å¾®ä¿¡ç”¨æˆ·",
      "avatar": "https://...",
      "phone": "13800138000",
      "points": 0,
      "status": 1
    }
  }
}
```

### 2. è·å–ç”¨æˆ·ä¿¡æ¯

**æ¥å£**: `GET /auth/user-info`

**è®¤è¯**: éœ€è¦Token

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "id": 1,
    "openid": "oXXXX-XXXXXXXXXXXXXXXXXXX",
    "nickname": "å¾®ä¿¡ç”¨æˆ·",
    "avatar": "https://...",
    "phone": "13800138000",
    "gender": 1,
    "birthday": "1990-01-01",
    "points": 100,
    "status": 1,
    "created_at": "2025-01-01 10:00:00",
    "updated_at": "2025-01-10 15:30:00"
  }
}
```

### 3. æ›´æ–°ç”¨æˆ·ä¿¡æ¯

**æ¥å£**: `PUT /auth/user`

**è®¤è¯**: éœ€è¦Token

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| nickname | string | å¦ | æ˜µç§° |
| avatar | string | å¦ | å¤´åƒURL |
| gender | integer | å¦ | æ€§åˆ«ï¼š0=æœªçŸ¥ï¼Œ1=ç”·ï¼Œ2=å¥³ |
| birthday | date | å¦ | ç”Ÿæ—¥ï¼ˆYYYY-MM-DDï¼‰ |

**è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "nickname": "å¼ ä¸‰",
  "gender": 1,
  "birthday": "1990-05-20"
}
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "æ›´æ–°æˆåŠŸ",
  "data": {
    "id": 1,
    "nickname": "å¼ ä¸‰",
    "gender": 1,
    "birthday": "1990-05-20"
  }
}
```

---

## å•†å“ç®¡ç†

### 1. è·å–å•†å“åˆ†ç±»åˆ—è¡¨

**æ¥å£**: `GET /categories`

**è®¤è¯**: ä¸éœ€è¦

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "åŒ»ç–—å™¨æ¢°",
      "parent_id": 0,
      "icon": "https://...",
      "sort_order": 1,
      "status": 1
    },
    {
      "id": 2,
      "name": "æ¯å©´ç”¨å“",
      "parent_id": 0,
      "icon": "https://...",
      "sort_order": 2,
      "status": 1
    }
  ]
}
```

### 2. è·å–åˆ†ç±»è¯¦æƒ…

**æ¥å£**: `GET /categories/{id}`

**è®¤è¯**: ä¸éœ€è¦

**è·¯å¾„å‚æ•°**:
- `id`: åˆ†ç±»ID

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "id": 1,
    "name": "åŒ»ç–—å™¨æ¢°",
    "parent_id": 0,
    "icon": "https://...",
    "description": "å„ç±»åŒ»ç–—å™¨æ¢°ç§Ÿèµ",
    "sort_order": 1,
    "status": 1
  }
}
```

### 3. è·å–å•†å“åˆ—è¡¨

**æ¥å£**: `GET /products`

**è®¤è¯**: ä¸éœ€è¦

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| category_id | integer | å¦ | åˆ†ç±»ID |
| keyword | string | å¦ | æœç´¢å…³é”®è¯ |
| sort | string | å¦ | æ’åºæ–¹å¼ï¼šprice_ascï¼ˆä»·æ ¼å‡åºï¼‰ï¼Œprice_descï¼ˆä»·æ ¼é™åºï¼‰ï¼Œsalesï¼ˆé”€é‡ï¼‰ï¼Œé»˜è®¤default |
| page | integer | å¦ | é¡µç ï¼Œé»˜è®¤1 |
| per_page | integer | å¦ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤15 |

**è¯·æ±‚ç¤ºä¾‹**:

```
GET /products?category_id=1&sort=price_asc&page=1&per_page=10
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "current_page": 1,
    "data": [
      {
        "id": 1,
        "category_id": 1,
        "name": "åŒ»ç”¨å¸å¥¶å™¨",
        "description": "ç”µåŠ¨å¸å¥¶å™¨ï¼Œé™éŸ³èˆ’é€‚",
        "price": "150.00",
        "original_price": "200.00",
        "stock": 50,
        "sales": 120,
        "is_hot": 1,
        "status": 1,
        "main_image": "https://...",
        "images": [
          "https://...",
          "https://..."
        ],
        "category": {
          "id": 1,
          "name": "åŒ»ç–—å™¨æ¢°"
        }
      }
    ],
    "total": 25,
    "per_page": 10,
    "current_page": 1,
    "last_page": 3
  }
}
```

### 4. è·å–çƒ­é—¨å•†å“

**æ¥å£**: `GET /products/hot`

**è®¤è¯**: ä¸éœ€è¦

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| limit | integer | å¦ | æ•°é‡é™åˆ¶ï¼Œé»˜è®¤10 |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "åŒ»ç”¨å¸å¥¶å™¨",
      "price": "150.00",
      "main_image": "https://...",
      "sales": 120
    }
  ]
}
```

### 5. è·å–å•†å“è¯¦æƒ…

**æ¥å£**: `GET /products/{id}`

**è®¤è¯**: ä¸éœ€è¦

**è·¯å¾„å‚æ•°**:
- `id`: å•†å“ID

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "id": 1,
    "category_id": 1,
    "name": "åŒ»ç”¨å¸å¥¶å™¨",
    "description": "ç”µåŠ¨å¸å¥¶å™¨ï¼Œé™éŸ³èˆ’é€‚",
    "detail": "<p>è¯¦ç»†ä»‹ç»...</p>",
    "price": "150.00",
    "original_price": "200.00",
    "stock": 50,
    "sales": 120,
    "is_hot": 1,
    "status": 1,
    "main_image": "https://...",
    "images": [
      {
        "id": 1,
        "image_url": "https://...",
        "sort_order": 1
      }
    ],
    "specifications": [
      {
        "id": 1,
        "name": "é¢œè‰²",
        "value": "ç™½è‰²",
        "stock": 30,
        "price": "150.00"
      }
    ],
    "category": {
      "id": 1,
      "name": "åŒ»ç–—å™¨æ¢°"
    }
  }
}
```

---

## è´­ç‰©è½¦

### 1. è·å–è´­ç‰©è½¦åˆ—è¡¨

**æ¥å£**: `GET /cart`

**è®¤è¯**: éœ€è¦Token

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "items": [
      {
        "id": 1,
        "product_id": 1,
        "specification_id": 1,
        "quantity": 2,
        "product": {
          "id": 1,
          "name": "åŒ»ç”¨å¸å¥¶å™¨",
          "price": "150.00",
          "main_image": "https://...",
          "stock": 50,
          "status": 1
        },
        "specification": {
          "id": 1,
          "name": "é¢œè‰²",
          "value": "ç™½è‰²",
          "price": "150.00"
        }
      }
    ],
    "total_amount": "300.00",
    "total_items": 2
  }
}
```

### 2. æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦

**æ¥å£**: `POST /cart`

**è®¤è¯**: éœ€è¦Token

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| product_id | integer | æ˜¯ | å•†å“ID |
| specification_id | integer | å¦ | è§„æ ¼ID |
| quantity | integer | æ˜¯ | æ•°é‡ï¼Œé»˜è®¤1 |

**è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "product_id": 1,
  "specification_id": 1,
  "quantity": 2
}
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 201,
  "message": "æ·»åŠ æˆåŠŸ",
  "data": {
    "id": 1,
    "product_id": 1,
    "quantity": 2
  }
}
```

### 3. æ›´æ–°è´­ç‰©è½¦å•†å“

**æ¥å£**: `PUT /cart/{id}`

**è®¤è¯**: éœ€è¦Token

**è·¯å¾„å‚æ•°**:
- `id`: è´­ç‰©è½¦é¡¹ID

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| quantity | integer | æ˜¯ | æ•°é‡ |

**è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "quantity": 3
}
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "æ›´æ–°æˆåŠŸ",
  "data": {
    "id": 1,
    "quantity": 3
  }
}
```

### 4. åˆ é™¤è´­ç‰©è½¦å•†å“

**æ¥å£**: `DELETE /cart/{id}`

**è®¤è¯**: éœ€è¦Token

**è·¯å¾„å‚æ•°**:
- `id`: è´­ç‰©è½¦é¡¹ID

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "åˆ é™¤æˆåŠŸ",
  "data": null
}
```

### 5. æ¸…ç©ºè´­ç‰©è½¦

**æ¥å£**: `DELETE /cart`

**è®¤è¯**: éœ€è¦Token

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "æ¸…ç©ºæˆåŠŸ",
  "data": null
}
```

---

## æ”¶è´§åœ°å€

### 1. è·å–åœ°å€åˆ—è¡¨

**æ¥å£**: `GET /addresses`

**è®¤è¯**: éœ€è¦Token

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "å¼ ä¸‰",
      "phone": "13800138000",
      "province": "åŒ—äº¬å¸‚",
      "city": "åŒ—äº¬å¸‚",
      "district": "æœé˜³åŒº",
      "detail": "æŸæŸè¡—é“123å·",
      "is_default": 1,
      "created_at": "2025-01-01 10:00:00"
    }
  ]
}
```

### 2. è·å–é»˜è®¤åœ°å€

**æ¥å£**: `GET /addresses/default`

**è®¤è¯**: éœ€è¦Token

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "id": 1,
    "name": "å¼ ä¸‰",
    "phone": "13800138000",
    "province": "åŒ—äº¬å¸‚",
    "city": "åŒ—äº¬å¸‚",
    "district": "æœé˜³åŒº",
    "detail": "æŸæŸè¡—é“123å·",
    "is_default": 1
  }
}
```

### 3. åˆ›å»ºæ”¶è´§åœ°å€

**æ¥å£**: `POST /addresses`

**è®¤è¯**: éœ€è¦Token

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| name | string | æ˜¯ | æ”¶è´§äººå§“å |
| phone | string | æ˜¯ | æ‰‹æœºå· |
| province | string | æ˜¯ | çœä»½ |
| city | string | æ˜¯ | åŸå¸‚ |
| district | string | æ˜¯ | åŒºå¿ |
| detail | string | æ˜¯ | è¯¦ç»†åœ°å€ |
| is_default | boolean | å¦ | æ˜¯å¦é»˜è®¤åœ°å€ |

**è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "name": "å¼ ä¸‰",
  "phone": "13800138000",
  "province": "åŒ—äº¬å¸‚",
  "city": "åŒ—äº¬å¸‚",
  "district": "æœé˜³åŒº",
  "detail": "æŸæŸè¡—é“123å·",
  "is_default": true
}
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 201,
  "message": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 1,
    "name": "å¼ ä¸‰",
    "phone": "13800138000",
    "is_default": 1
  }
}
```

### 4. æ›´æ–°æ”¶è´§åœ°å€

**æ¥å£**: `PUT /addresses/{id}`

**è®¤è¯**: éœ€è¦Token

**è·¯å¾„å‚æ•°**:
- `id`: åœ°å€ID

**è¯·æ±‚å‚æ•°**: åŒåˆ›å»ºåœ°å€

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "æ›´æ–°æˆåŠŸ",
  "data": {
    "id": 1,
    "name": "å¼ ä¸‰",
    "phone": "13900139000"
  }
}
```

### 5. åˆ é™¤æ”¶è´§åœ°å€

**æ¥å£**: `DELETE /addresses/{id}`

**è®¤è¯**: éœ€è¦Token

**è·¯å¾„å‚æ•°**:
- `id`: åœ°å€ID

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "åˆ é™¤æˆåŠŸ",
  "data": null
}
```

### 6. è®¾ç½®é»˜è®¤åœ°å€

**æ¥å£**: `POST /addresses/{id}/set-default`

**è®¤è¯**: éœ€è¦Token

**è·¯å¾„å‚æ•°**:
- `id`: åœ°å€ID

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è®¾ç½®æˆåŠŸ",
  "data": {
    "id": 1,
    "is_default": 1
  }
}
```

---

## è®¢å•ç®¡ç†

### 1. è·å–è®¢å•åˆ—è¡¨

**æ¥å£**: `GET /orders`

**è®¤è¯**: éœ€è¦Token

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| status | integer | å¦ | è®¢å•çŠ¶æ€ï¼š0=å¾…æ”¯ä»˜ï¼Œ1=å¾…å‘è´§ï¼Œ2=å¾…æ”¶è´§ï¼Œ3=å·²å®Œæˆï¼Œ4=å·²å–æ¶ˆ |
| page | integer | å¦ | é¡µç ï¼Œé»˜è®¤1 |
| per_page | integer | å¦ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤10 |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "current_page": 1,
    "data": [
      {
        "id": 1,
        "order_no": "2025010112345678",
        "total_amount": "300.00",
        "status": 0,
        "status_text": "å¾…æ”¯ä»˜",
        "created_at": "2025-01-01 10:00:00",
        "items": [
          {
            "id": 1,
            "product_id": 1,
            "product_name": "åŒ»ç”¨å¸å¥¶å™¨",
            "price": "150.00",
            "quantity": 2,
            "product_image": "https://..."
          }
        ]
      }
    ],
    "total": 10,
    "per_page": 10
  }
}
```

### 2. è·å–è®¢å•è¯¦æƒ…

**æ¥å£**: `GET /orders/{id}`

**è®¤è¯**: éœ€è¦Token

**è·¯å¾„å‚æ•°**:
- `id`: è®¢å•ID

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "id": 1,
    "order_no": "2025010112345678",
    "user_id": 1,
    "total_amount": "300.00",
    "shipping_fee": "10.00",
    "discount_amount": "0.00",
    "final_amount": "310.00",
    "status": 0,
    "status_text": "å¾…æ”¯ä»˜",
    "payment_method": null,
    "payment_time": null,
    "shipping_name": "å¼ ä¸‰",
    "shipping_phone": "13800138000",
    "shipping_address": "åŒ—äº¬å¸‚æœé˜³åŒºæŸæŸè¡—é“123å·",
    "remark": null,
    "created_at": "2025-01-01 10:00:00",
    "items": [
      {
        "id": 1,
        "product_id": 1,
        "product_name": "åŒ»ç”¨å¸å¥¶å™¨",
        "specification": "ç™½è‰²",
        "price": "150.00",
        "quantity": 2,
        "subtotal": "300.00",
        "product_image": "https://..."
      }
    ]
  }
}
```

### 3. åˆ›å»ºè®¢å•

**æ¥å£**: `POST /orders`

**è®¤è¯**: éœ€è¦Token

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| address_id | integer | æ˜¯ | æ”¶è´§åœ°å€ID |
| items | array | æ˜¯ | å•†å“åˆ—è¡¨ |
| items[].product_id | integer | æ˜¯ | å•†å“ID |
| items[].specification_id | integer | å¦ | è§„æ ¼ID |
| items[].quantity | integer | æ˜¯ | æ•°é‡ |
| remark | string | å¦ | è®¢å•å¤‡æ³¨ |
| use_points | boolean | å¦ | æ˜¯å¦ä½¿ç”¨ç§¯åˆ† |

**è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "address_id": 1,
  "items": [
    {
      "product_id": 1,
      "specification_id": 1,
      "quantity": 2
    }
  ],
  "remark": "å°½å¿«å‘è´§",
  "use_points": false
}
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 201,
  "message": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 1,
    "order_no": "2025010112345678",
    "total_amount": "300.00",
    "final_amount": "310.00",
    "status": 0,
    "payment_info": {
      "prepay_id": "wx20250101...",
      "nonceStr": "...",
      "timeStamp": "1704096000",
      "package": "prepay_id=wx20250101...",
      "signType": "RSA",
      "paySign": "..."
    }
  }
}
```

### 4. å–æ¶ˆè®¢å•

**æ¥å£**: `POST /orders/{id}/cancel`

**è®¤è¯**: éœ€è¦Token

**è·¯å¾„å‚æ•°**:
- `id`: è®¢å•ID

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "å–æ¶ˆæˆåŠŸ",
  "data": {
    "id": 1,
    "status": 4,
    "status_text": "å·²å–æ¶ˆ"
  }
}
```

### 5. ç¡®è®¤æ”¶è´§

**æ¥å£**: `POST /orders/{id}/confirm`

**è®¤è¯**: éœ€è¦Token

**è·¯å¾„å‚æ•°**:
- `id`: è®¢å•ID

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "ç¡®è®¤æˆåŠŸ",
  "data": {
    "id": 1,
    "status": 3,
    "status_text": "å·²å®Œæˆ"
  }
}
```

---

## å®¶åº­å¥—é¤

### 1. è·å–å¥—é¤åˆ—è¡¨

**æ¥å£**: `GET /family-meals`

**è®¤è¯**: ä¸éœ€è¦

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "åŸºç¡€å¥—é¤",
      "description": "é€‚åˆåˆæ¬¡è´­ä¹°çš„å®¶åº­",
      "price": "999.00",
      "original_price": "1500.00",
      "status": 1,
      "image": "https://...",
      "products_count": 5
    }
  ]
}
```

### 2. è·å–å¥—é¤è¯¦æƒ…

**æ¥å£**: `GET /family-meals/{id}`

**è®¤è¯**: ä¸éœ€è¦

**è·¯å¾„å‚æ•°**:
- `id`: å¥—é¤ID

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "id": 1,
    "name": "åŸºç¡€å¥—é¤",
    "description": "é€‚åˆåˆæ¬¡è´­ä¹°çš„å®¶åº­",
    "detail": "<p>å¥—é¤è¯¦æƒ…...</p>",
    "price": "999.00",
    "original_price": "1500.00",
    "status": 1,
    "image": "https://...",
    "products": [
      {
        "id": 1,
        "name": "åŒ»ç”¨å¸å¥¶å™¨",
        "quantity": 1,
        "price": "150.00",
        "image": "https://..."
      }
    ]
  }
}
```

---

## ç§¯åˆ†ç³»ç»Ÿ

### 1. è·å–ç§¯åˆ†è®°å½•

**æ¥å£**: `GET /points`

**è®¤è¯**: éœ€è¦Token

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| page | integer | å¦ | é¡µç ï¼Œé»˜è®¤1 |
| per_page | integer | å¦ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤15 |

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "current_page": 1,
    "data": [
      {
        "id": 1,
        "user_id": 1,
        "type": 1,
        "type_text": "è´­ç‰©èµšå–",
        "points": 50,
        "balance": 150,
        "description": "è®¢å•2025010112345678è·å¾—ç§¯åˆ†",
        "created_at": "2025-01-01 10:00:00"
      },
      {
        "id": 2,
        "type": 2,
        "type_text": "ç§¯åˆ†ä½¿ç”¨",
        "points": -20,
        "balance": 100,
        "description": "è®¢å•2025010212345678ä½¿ç”¨ç§¯åˆ†",
        "created_at": "2025-01-02 11:00:00"
      }
    ],
    "total": 20,
    "per_page": 15
  }
}
```

### 2. è·å–ç§¯åˆ†ä½™é¢

**æ¥å£**: `GET /points/balance`

**è®¤è¯**: éœ€è¦Token

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "points": 100,
    "can_use_amount": "10.00"
  }
}
```

**è¯´æ˜**: ç§¯åˆ†å…‘æ¢æ¯”ä¾‹ä¸º10ç§¯åˆ†=1å…ƒ

---

## é”™è¯¯å“åº”

### é€šç”¨é”™è¯¯æ ¼å¼

```json
{
  "code": 400,
  "message": "é”™è¯¯ä¿¡æ¯æè¿°",
  "data": null
}
```

### å¸¸è§é”™è¯¯ç 

| é”™è¯¯ç  | è¯´æ˜ | å¸¸è§åŸå›  |
|--------|------|----------|
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ | ç¼ºå°‘å¿…å¡«å‚æ•°ã€å‚æ•°æ ¼å¼é”™è¯¯ |
| 401 | æœªè®¤è¯ | Tokenç¼ºå¤±æˆ–è¿‡æœŸ |
| 403 | æ— æƒé™ | ç”¨æˆ·çŠ¶æ€å¼‚å¸¸ã€æƒé™ä¸è¶³ |
| 404 | èµ„æºä¸å­˜åœ¨ | å•†å“ã€è®¢å•ã€åœ°å€ç­‰ä¸å­˜åœ¨ |
| 422 | éªŒè¯å¤±è´¥ | æ•°æ®éªŒè¯ä¸é€šè¿‡ |
| 500 | æœåŠ¡å™¨é”™è¯¯ | ç³»ç»Ÿå¼‚å¸¸ |

### é”™è¯¯å“åº”ç¤ºä¾‹

#### å‚æ•°é”™è¯¯ï¼ˆ400ï¼‰

```json
{
  "code": 400,
  "message": "è¯·é€‰æ‹©æ”¶è´§åœ°å€",
  "data": null
}
```

#### æœªè®¤è¯ï¼ˆ401ï¼‰

```json
{
  "code": 401,
  "message": "è¯·å…ˆç™»å½•",
  "data": null
}
```

#### èµ„æºä¸å­˜åœ¨ï¼ˆ404ï¼‰

```json
{
  "code": 404,
  "message": "å•†å“ä¸å­˜åœ¨",
  "data": null
}
```

#### åº“å­˜ä¸è¶³ï¼ˆ422ï¼‰

```json
{
  "code": 422,
  "message": "å•†å“åº“å­˜ä¸è¶³",
  "data": {
    "available_stock": 5
  }
}
```

---

## é™„å½•

### æ•°æ®å­—å…¸

#### è®¢å•çŠ¶æ€

| å€¼ | è¯´æ˜ |
|----|------|
| 0 | å¾…æ”¯ä»˜ |
| 1 | å¾…å‘è´§ |
| 2 | å¾…æ”¶è´§ |
| 3 | å·²å®Œæˆ |
| 4 | å·²å–æ¶ˆ |

#### ç§¯åˆ†ç±»å‹

| å€¼ | è¯´æ˜ |
|----|------|
| 1 | è´­ç‰©èµšå– |
| 2 | ç§¯åˆ†ä½¿ç”¨ |
| 3 | ç­¾åˆ°èµšå– |
| 4 | æ´»åŠ¨èµ é€ |
| 5 | åå°è°ƒæ•´ |

#### ç”¨æˆ·æ€§åˆ«

| å€¼ | è¯´æ˜ |
|----|------|
| 0 | æœªçŸ¥ |
| 1 | ç”· |
| 2 | å¥³ |

---

## æµ‹è¯•è´¦å·

### æµ‹è¯•ç¯å¢ƒ

- **APIåœ°å€**: `https://aiying.qdhs.cloud/api`

### è¯´æ˜

- å°ç¨‹åºç«¯éœ€è¦ä½¿ç”¨çœŸå®çš„å¾®ä¿¡å°ç¨‹åºç¯å¢ƒè¿›è¡Œæµ‹è¯•
- å»ºè®®åœ¨å¼€å‘å·¥å…·ä¸­ä½¿ç”¨"å¼€å‘ç‰ˆ"æˆ–"ä½“éªŒç‰ˆ"è¿›è¡Œè°ƒè¯•

---

## æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. **è¯·æ±‚æ ¼å¼**: ç¡®ä¿Content-Typeä¸º`application/json`
2. **Tokenæ ¼å¼**: ç¡®ä¿Authorizationå¤´æ ¼å¼ä¸º`Bearer {token}`
3. **å‚æ•°æ ¼å¼**: ç¡®ä¿JSONæ ¼å¼æ­£ç¡®ï¼Œå­—æ®µç±»å‹åŒ¹é…
4. **ç½‘ç»œçŠ¶æ€**: ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸
5. **APIç‰ˆæœ¬**: ç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„API

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-12-22
**ç»´æŠ¤å›¢é˜Ÿ**: çˆ±å©´æœˆå­ä¸­å¿ƒæŠ€æœ¯å›¢é˜Ÿ
