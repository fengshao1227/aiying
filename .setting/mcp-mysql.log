2025-12-24T05:35:11.005Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:39:10.584Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:39:10.584Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T05:39:10.584Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T05:39:10.586Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T05:39:10.766Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T05:39:10.766Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T05:39:13.205Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T05:39:13.207Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T05:39:15.258Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:39:15.258Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T05:39:17.862Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:39:17.863Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T05:39:17.863Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T05:39:19.155Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T05:39:19.155Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T05:39:19.155Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T05:39:57.638Z | tools/call | {"name":"get_database_info","arguments":{},"_meta":{"claudecode/toolUseId":"tooluse_qgDW5TqgQ7q5mwbiw3vLoA"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"databases\": [\n    \"aiying\",\n    \"aiying_health\",\n    \"information_schema\",\n    \"linshi_aiying\",\n    \"mysql\",\n    \"performance_schema\",\n    \"sys\"\n  ],\n  \"tables\": [],\n  \"config\": {\n    \"host\": \"82.157.47.215\",\n    \"port\": 3306,\n    \"database\": \"aiying\",\n    \"readonly\": false,\n    \"allowDDL\": false,\n    \"allowDrop\": false,\n    \"allowDelete\": false\n  }\n}"}]}
2025-12-24T05:40:22.117Z | SQL: SHOW TABLES FROM aiying | SUCCESS
2025-12-24T05:40:22.117Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW TABLES FROM aiying"},"_meta":{"claudecode/toolUseId":"tooluse_z0FmHD9CRMK7NqT4InfLaA"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:40:52.065Z | notifications/cancelled | {"requestId":2,"reason":"AbortError: This operation was aborted"} | Unknown method: notifications/cancelled | RESPONSE: null
2025-12-24T05:40:52.066Z | error | {"error":"Unknown method: notifications/cancelled","stack":"Error: Unknown method: notifications/cancelled\n    at FinalMCPServer.handleRequest (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:785:17)\n    at Socket.<anonymous> (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:861:43)\n    at Socket.emit (node:events:519:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)\n    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)"} | Unknown method: notifications/cancelled | RESPONSE: null
2025-12-24T05:40:52.067Z | notifications/cancelled | {"requestId":3,"reason":"AbortError: This operation was aborted"} | Unknown method: notifications/cancelled | RESPONSE: null
2025-12-24T05:40:52.067Z | error | {"error":"Unknown method: notifications/cancelled","stack":"Error: Unknown method: notifications/cancelled\n    at FinalMCPServer.handleRequest (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:785:17)\n    at Socket.<anonymous> (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:861:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"} | Unknown method: notifications/cancelled | RESPONSE: null
2025-12-24T05:41:52.985Z | SQL: SHOW TABLES FROM aiying | SUCCESS
2025-12-24T05:41:52.986Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW TABLES FROM aiying"},"_meta":{"claudecode/toolUseId":"tooluse_Gk7erWWzQiuD3hmujitd6w"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Tables_in_aiying\": \"carts\"\n    },\n    {\n      \"Tables_in_aiying\": \"categories\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_configs\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_order_items\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_orders\"\n    },\n    {\n      \"Tables_in_aiying\": \"notification_logs\"\n    },\n    {\n      \"Tables_in_aiying\": \"order_items\"\n    },\n    {\n      \"Tables_in_aiying\": \"orders\"\n    },\n    {\n      \"Tables_in_aiying\": \"points_history\"\n    },\n    {\n      \"Tables_in_aiying\": \"products\"\n    },\n    {\n      \"Tables_in_aiying\": \"system_configs\"\n    },\n    {\n      \"Tables_in_aiying\": \"users\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:42:17.210Z | SQL: SELECT TABLE_NAME FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'aiying_health' AND TABLE_NAME IN ('customers', 'rooms', 'room_status', 'admins', 'score_card_records') | SUCCESS
2025-12-24T05:42:17.210Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT TABLE_NAME FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'aiying_health' AND TABLE_NAME IN ('customers', 'rooms', 'room_status', 'admins', 'score_card_records')"},"_meta":{"claudecode/toolUseId":"tooluse_xHmVjPS0Sh2FG8rWDEaznA"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"TABLE_NAME\": \"admins\"\n    },\n    {\n      \"TABLE_NAME\": \"customers\"\n    },\n    {\n      \"TABLE_NAME\": \"room_status\"\n    },\n    {\n      \"TABLE_NAME\": \"rooms\"\n    },\n    {\n      \"TABLE_NAME\": \"score_card_records\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:43:39.762Z | SQL: SHOW CREATE TABLE aiying_health.customers | SUCCESS
2025-12-24T05:43:39.762Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW CREATE TABLE aiying_health.customers"},"_meta":{"claudecode/toolUseId":"tooluse_OoF0-3QQRJuUPpbb8BPFGw"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Table\": \"customers\",\n      \"Create Table\": \"CREATE TABLE `customers` (\\n  `customer_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '客户ID',\\n  `customer_name` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '客户姓名',\\n  `phone` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '联系电话',\\n  `package_name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '套餐名称（春/夏/秋）',\\n  `baby_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '宝宝姓名',\\n  `mother_birthday` date DEFAULT NULL COMMENT '妈妈生日',\\n  `baby_birthday` date DEFAULT NULL COMMENT '宝宝生日',\\n  `nanny_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '月嫂姓名',\\n  `due_date` date DEFAULT NULL COMMENT '预产期',\\n  `address` text COLLATE utf8mb4_unicode_ci COMMENT '家庭住址',\\n  `check_in_date` datetime DEFAULT NULL COMMENT '入住时间',\\n  `check_out_date` datetime DEFAULT NULL COMMENT '出所时间',\\n  `remarks` text COLLATE utf8mb4_unicode_ci COMMENT '备注',\\n  `created_at` timestamp NULL DEFAULT NULL,\\n  `updated_at` timestamp NULL DEFAULT NULL,\\n  PRIMARY KEY (`customer_id`),\\n  KEY `idx_phone` (`phone`),\\n  KEY `idx_check_in_date` (`check_in_date`),\\n  KEY `idx_check_out_date` (`check_out_date`)\\n) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='客户档案表'\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:43:39.861Z | SQL: SHOW CREATE TABLE aiying_health.rooms | SUCCESS
2025-12-24T05:43:39.861Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW CREATE TABLE aiying_health.rooms"},"_meta":{"claudecode/toolUseId":"tooluse_ahcCmxH8Qh2_yoq68OCkdQ"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Table\": \"rooms\",\n      \"Create Table\": \"CREATE TABLE `rooms` (\\n  `room_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '房间ID',\\n  `room_name` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '房间名称（24节气命名）',\\n  `floor` tinyint NOT NULL COMMENT '楼层：1=一楼，2=二楼',\\n  `room_type` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '房型（标准间/套房/双床房等）',\\n  `color_code` varchar(7) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '#FFFFFF' COMMENT '颜色代码（用于房态展示）',\\n  `ac_group_id` int DEFAULT NULL COMMENT '空调组ID',\\n  `display_order` int NOT NULL DEFAULT '0' COMMENT '显示顺序',\\n  `created_at` timestamp NULL DEFAULT NULL,\\n  `updated_at` timestamp NULL DEFAULT NULL,\\n  PRIMARY KEY (`room_id`),\\n  UNIQUE KEY `uk_room_name` (`room_name`),\\n  KEY `idx_floor` (`floor`),\\n  KEY `idx_display_order` (`display_order`)\\n) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='房间信息表'\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:43:39.962Z | SQL: SHOW CREATE TABLE aiying_health.admins | SUCCESS
2025-12-24T05:43:39.962Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW CREATE TABLE aiying_health.admins"},"_meta":{"claudecode/toolUseId":"tooluse_bg8o8lKMSU2E5FX26qxUwA"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Table\": \"admins\",\n      \"Create Table\": \"CREATE TABLE `admins` (\\n  `admin_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '管理员ID',\\n  `username` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '用户名（登录账号）',\\n  `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '密码（bcrypt加密）',\\n  `real_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '真实姓名',\\n  `email` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '邮箱',\\n  `phone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '联系电话',\\n  `status` tinyint NOT NULL DEFAULT '1' COMMENT '状态：0=禁用，1=启用',\\n  `last_login_at` timestamp NULL DEFAULT NULL COMMENT '最后登录时间',\\n  `last_login_ip` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '最后登录IP',\\n  `created_at` timestamp NULL DEFAULT NULL,\\n  `updated_at` timestamp NULL DEFAULT NULL,\\n  PRIMARY KEY (`admin_id`),\\n  UNIQUE KEY `uk_username` (`username`),\\n  KEY `idx_status` (`status`),\\n  KEY `idx_created_at` (`created_at`)\\n) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='管理员表'\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:43:40.055Z | SQL: SHOW CREATE TABLE aiying_health.room_status | SUCCESS
2025-12-24T05:43:40.056Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW CREATE TABLE aiying_health.room_status"},"_meta":{"claudecode/toolUseId":"tooluse_6xBj-0AtRkmpVlJ6e-aVFw"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Table\": \"room_status\",\n      \"Create Table\": \"CREATE TABLE `room_status` (\\n  `record_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '记录ID',\\n  `room_id` bigint unsigned NOT NULL COMMENT '房间ID',\\n  `customer_id` bigint unsigned DEFAULT NULL COMMENT '客户ID',\\n  `check_in_date` date DEFAULT NULL COMMENT '入住日期',\\n  `check_out_date` date DEFAULT NULL COMMENT '退房日期',\\n  `status` tinyint NOT NULL DEFAULT '0' COMMENT '状态：0=空闲，1=已入住，2=维护中',\\n  `record_month` varchar(7) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '记录月份（格式：YYYY-MM）',\\n  `created_at` timestamp NULL DEFAULT NULL,\\n  `updated_at` timestamp NULL DEFAULT NULL,\\n  PRIMARY KEY (`record_id`),\\n  KEY `idx_room_month` (`room_id`,`record_month`),\\n  KEY `idx_customer_id` (`customer_id`),\\n  KEY `idx_check_dates` (`check_in_date`,`check_out_date`),\\n  KEY `idx_status` (`status`),\\n  CONSTRAINT `fk_room_status_customer` FOREIGN KEY (`customer_id`) REFERENCES `customers` (`customer_id`) ON DELETE SET NULL,\\n  CONSTRAINT `fk_room_status_room` FOREIGN KEY (`room_id`) REFERENCES `rooms` (`room_id`) ON DELETE CASCADE\\n) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='房态记录表'\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:43:40.152Z | SQL: SHOW CREATE TABLE aiying_health.score_card_records | SUCCESS
2025-12-24T05:43:40.152Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW CREATE TABLE aiying_health.score_card_records"},"_meta":{"claudecode/toolUseId":"tooluse_D9Ju6O50T5CT-_4WoDAXYQ"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Table\": \"score_card_records\",\n      \"Create Table\": \"CREATE TABLE `score_card_records` (\\n  `record_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '记录ID',\\n  `customer_id` bigint unsigned NOT NULL COMMENT '客户ID',\\n  `card_number` int NOT NULL COMMENT '第几张评分卡（1,2,3...）',\\n  `record_date` date NOT NULL COMMENT '记录日期',\\n  `score_data` json DEFAULT NULL COMMENT '评分数据（JSON格式存储）',\\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\\n  PRIMARY KEY (`record_id`),\\n  KEY `idx_customer_id` (`customer_id`),\\n  KEY `idx_record_date` (`record_date`),\\n  KEY `idx_customer_card` (`customer_id`,`card_number`),\\n  CONSTRAINT `fk_score_card_customer` FOREIGN KEY (`customer_id`) REFERENCES `customers` (`customer_id`) ON DELETE CASCADE\\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='评分卡记录表'\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:45:09.243Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T05:45:09.247Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T05:45:11.317Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:45:11.317Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T05:45:16.970Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:45:16.970Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T05:45:16.971Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T05:45:16.972Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T05:45:17.157Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T05:45:17.157Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T05:46:24.020Z | SQL: SHOW TABLES FROM aiying | SUCCESS
2025-12-24T05:46:24.020Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW TABLES FROM aiying"},"_meta":{"claudecode/toolUseId":"tooluse_ZIvm2bTGSECFTK9peyArqg"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Tables_in_aiying\": \"admins\"\n    },\n    {\n      \"Tables_in_aiying\": \"carts\"\n    },\n    {\n      \"Tables_in_aiying\": \"categories\"\n    },\n    {\n      \"Tables_in_aiying\": \"customers\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_configs\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_order_items\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_orders\"\n    },\n    {\n      \"Tables_in_aiying\": \"notification_logs\"\n    },\n    {\n      \"Tables_in_aiying\": \"order_items\"\n    },\n    {\n      \"Tables_in_aiying\": \"orders\"\n    },\n    {\n      \"Tables_in_aiying\": \"points_history\"\n    },\n    {\n      \"Tables_in_aiying\": \"products\"\n    },\n    {\n      \"Tables_in_aiying\": \"room_status\"\n    },\n    {\n      \"Tables_in_aiying\": \"rooms\"\n    },\n    {\n      \"Tables_in_aiying\": \"score_card_records\"\n    },\n    {\n      \"Tables_in_aiying\": \"system_configs\"\n    },\n    {\n      \"Tables_in_aiying\": \"users\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:53:40.462Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T05:53:40.469Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T05:53:42.557Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:53:42.558Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T05:54:47.529Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:54:47.529Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T05:54:47.529Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T05:54:47.531Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T05:54:47.702Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T05:54:47.702Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T06:16:55.265Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T06:16:55.268Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T06:16:57.356Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T06:16:57.357Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T06:17:02.780Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T06:17:02.780Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T06:17:02.780Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T06:17:02.782Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T06:17:03.039Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T06:17:03.039Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T08:04:04.903Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T08:04:04.907Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T08:04:07.027Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:04:07.028Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T08:04:10.953Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:04:10.954Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T08:04:10.955Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T08:04:10.957Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T08:04:11.143Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T08:04:11.143Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T08:18:19.805Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T08:18:19.812Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T08:18:21.876Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:18:21.877Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T08:18:25.328Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:18:25.328Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T08:18:25.328Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T08:18:25.330Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T08:18:25.580Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T08:18:25.580Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T08:18:34.090Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T08:18:34.094Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T08:18:36.152Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:18:36.153Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T08:18:42.459Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:18:42.459Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T08:18:42.459Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T08:18:42.461Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T08:18:42.722Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T08:18:42.722Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T08:19:04.498Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T08:19:04.500Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T08:19:06.569Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:19:06.569Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T08:19:09.829Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:19:09.829Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T08:19:09.829Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T08:19:09.831Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T08:19:10.096Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T08:19:10.096Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T09:27:43.138Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T09:27:43.143Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T09:27:45.204Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T09:27:45.205Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T09:27:53.085Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T09:27:53.085Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T09:27:53.085Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T09:27:53.087Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T09:27:53.266Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T09:27:53.267Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T09:57:40.249Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T09:57:40.254Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T09:57:42.332Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T09:57:42.333Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T09:57:47.023Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T09:57:47.024Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T09:57:47.024Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T09:57:47.026Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T09:57:47.195Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T09:57:47.195Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T10:11:32.869Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T10:11:32.871Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T10:11:34.929Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:11:34.930Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T10:11:40.730Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:11:40.731Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T10:11:40.731Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T10:11:40.732Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T10:11:40.928Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T10:11:40.928Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T10:12:38.883Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T10:12:38.888Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T10:12:40.987Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:12:40.989Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T10:12:44.906Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:12:44.906Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T10:12:44.906Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T10:12:44.908Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T10:12:45.177Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T10:12:45.178Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T10:12:45.263Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T10:12:45.265Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T10:12:47.317Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:12:47.318Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T10:12:51.842Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:12:51.842Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T10:12:51.842Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T10:12:51.844Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T10:12:52.101Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T10:12:52.101Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T10:14:52.566Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T10:14:52.569Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T10:14:54.645Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:14:54.646Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T10:14:59.244Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:14:59.244Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T10:14:59.244Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T10:14:59.246Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T10:14:59.517Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T10:14:59.517Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T10:43:39.453Z | SQL: DESCRIBE points_history; | SUCCESS
2025-12-24T10:43:39.453Z | tools/call | {"name":"sql_query","arguments":{"sql":"DESCRIBE points_history;"},"_meta":{"claudecode/toolUseId":"toolu_vrtx_0125Yr7kC98377mTkXfZDgHe"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Field\": \"id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"PRI\",\n      \"Default\": null,\n      \"Extra\": \"auto_increment\"\n    },\n    {\n      \"Field\": \"user_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"customer_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"type\",\n      \"Type\": \"enum('earn','spend','refund','admin_add','admin_deduct')\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"points\",\n      \"Type\": \"int\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"balance_before\",\n      \"Type\": \"int unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"balance_after\",\n      \"Type\": \"int unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"source\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"source_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"description\",\n      \"Type\": \"varchar(255)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"operator_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"created_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"CURRENT_TIMESTAMP\",\n      \"Extra\": \"DEFAULT_GENERATED\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T10:53:10.642Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T10:53:10.644Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T10:53:12.702Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:53:12.703Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T10:53:19.321Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:53:19.321Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T10:53:19.321Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T10:53:19.323Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T10:53:19.559Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T10:53:19.559Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T11:31:40.567Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T11:31:43.533Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T11:31:43.534Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T12:26:30.468Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T12:27:06.285Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T12:27:06.286Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T13:18:25.613Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T13:18:27.478Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T13:18:27.478Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T13:37:28.993Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T13:37:31.792Z | connection_pool_recreated | {"host":"82.157.47.215","port":3306,"database":"aiying"} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T01:31:22.946Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T01:31:25.763Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T01:31:25.763Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T01:38:16.245Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T01:38:19.876Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T01:38:19.876Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T01:42:36.473Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T01:43:30.980Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T01:43:30.980Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T02:09:12.557Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T02:10:07.667Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T02:10:07.668Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T02:12:44.848Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T02:12:44.866Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T02:12:46.963Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T02:12:46.964Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T02:12:55.540Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T02:12:55.540Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T02:12:55.540Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T02:12:55.542Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T02:12:55.781Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T02:12:55.781Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T03:54:11.568Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T03:54:11.571Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T03:54:13.659Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T03:54:13.660Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T03:54:28.038Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T03:54:28.039Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T03:54:28.039Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T03:54:28.040Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T03:54:28.277Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T03:54:28.277Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T03:56:49.162Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T03:56:49.165Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T03:56:51.239Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T03:56:51.240Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T03:56:57.109Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T03:56:57.110Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T03:56:57.110Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T03:56:57.112Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T03:56:57.293Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T03:56:57.293Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
