2025-12-24T05:35:11.005Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:39:10.584Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:39:10.584Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T05:39:10.584Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T05:39:10.586Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T05:39:10.766Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T05:39:10.766Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T05:39:13.205Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T05:39:13.207Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T05:39:15.258Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:39:15.258Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T05:39:17.862Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:39:17.863Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T05:39:17.863Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T05:39:19.155Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T05:39:19.155Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T05:39:19.155Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T05:39:57.638Z | tools/call | {"name":"get_database_info","arguments":{},"_meta":{"claudecode/toolUseId":"tooluse_qgDW5TqgQ7q5mwbiw3vLoA"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"databases\": [\n    \"aiying\",\n    \"aiying_health\",\n    \"information_schema\",\n    \"linshi_aiying\",\n    \"mysql\",\n    \"performance_schema\",\n    \"sys\"\n  ],\n  \"tables\": [],\n  \"config\": {\n    \"host\": \"82.157.47.215\",\n    \"port\": 3306,\n    \"database\": \"aiying\",\n    \"readonly\": false,\n    \"allowDDL\": false,\n    \"allowDrop\": false,\n    \"allowDelete\": false\n  }\n}"}]}
2025-12-24T05:40:22.117Z | SQL: SHOW TABLES FROM aiying | SUCCESS
2025-12-24T05:40:22.117Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW TABLES FROM aiying"},"_meta":{"claudecode/toolUseId":"tooluse_z0FmHD9CRMK7NqT4InfLaA"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:40:52.065Z | notifications/cancelled | {"requestId":2,"reason":"AbortError: This operation was aborted"} | Unknown method: notifications/cancelled | RESPONSE: null
2025-12-24T05:40:52.066Z | error | {"error":"Unknown method: notifications/cancelled","stack":"Error: Unknown method: notifications/cancelled\n    at FinalMCPServer.handleRequest (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:785:17)\n    at Socket.<anonymous> (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:861:43)\n    at Socket.emit (node:events:519:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)\n    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)"} | Unknown method: notifications/cancelled | RESPONSE: null
2025-12-24T05:40:52.067Z | notifications/cancelled | {"requestId":3,"reason":"AbortError: This operation was aborted"} | Unknown method: notifications/cancelled | RESPONSE: null
2025-12-24T05:40:52.067Z | error | {"error":"Unknown method: notifications/cancelled","stack":"Error: Unknown method: notifications/cancelled\n    at FinalMCPServer.handleRequest (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:785:17)\n    at Socket.<anonymous> (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:861:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"} | Unknown method: notifications/cancelled | RESPONSE: null
2025-12-24T05:41:52.985Z | SQL: SHOW TABLES FROM aiying | SUCCESS
2025-12-24T05:41:52.986Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW TABLES FROM aiying"},"_meta":{"claudecode/toolUseId":"tooluse_Gk7erWWzQiuD3hmujitd6w"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Tables_in_aiying\": \"carts\"\n    },\n    {\n      \"Tables_in_aiying\": \"categories\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_configs\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_order_items\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_orders\"\n    },\n    {\n      \"Tables_in_aiying\": \"notification_logs\"\n    },\n    {\n      \"Tables_in_aiying\": \"order_items\"\n    },\n    {\n      \"Tables_in_aiying\": \"orders\"\n    },\n    {\n      \"Tables_in_aiying\": \"points_history\"\n    },\n    {\n      \"Tables_in_aiying\": \"products\"\n    },\n    {\n      \"Tables_in_aiying\": \"system_configs\"\n    },\n    {\n      \"Tables_in_aiying\": \"users\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:42:17.210Z | SQL: SELECT TABLE_NAME FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'aiying_health' AND TABLE_NAME IN ('customers', 'rooms', 'room_status', 'admins', 'score_card_records') | SUCCESS
2025-12-24T05:42:17.210Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT TABLE_NAME FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'aiying_health' AND TABLE_NAME IN ('customers', 'rooms', 'room_status', 'admins', 'score_card_records')"},"_meta":{"claudecode/toolUseId":"tooluse_xHmVjPS0Sh2FG8rWDEaznA"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"TABLE_NAME\": \"admins\"\n    },\n    {\n      \"TABLE_NAME\": \"customers\"\n    },\n    {\n      \"TABLE_NAME\": \"room_status\"\n    },\n    {\n      \"TABLE_NAME\": \"rooms\"\n    },\n    {\n      \"TABLE_NAME\": \"score_card_records\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:43:39.762Z | SQL: SHOW CREATE TABLE aiying_health.customers | SUCCESS
2025-12-24T05:43:39.762Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW CREATE TABLE aiying_health.customers"},"_meta":{"claudecode/toolUseId":"tooluse_OoF0-3QQRJuUPpbb8BPFGw"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Table\": \"customers\",\n      \"Create Table\": \"CREATE TABLE `customers` (\\n  `customer_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '客户ID',\\n  `customer_name` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '客户姓名',\\n  `phone` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '联系电话',\\n  `package_name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '套餐名称（春/夏/秋）',\\n  `baby_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '宝宝姓名',\\n  `mother_birthday` date DEFAULT NULL COMMENT '妈妈生日',\\n  `baby_birthday` date DEFAULT NULL COMMENT '宝宝生日',\\n  `nanny_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '月嫂姓名',\\n  `due_date` date DEFAULT NULL COMMENT '预产期',\\n  `address` text COLLATE utf8mb4_unicode_ci COMMENT '家庭住址',\\n  `check_in_date` datetime DEFAULT NULL COMMENT '入住时间',\\n  `check_out_date` datetime DEFAULT NULL COMMENT '出所时间',\\n  `remarks` text COLLATE utf8mb4_unicode_ci COMMENT '备注',\\n  `created_at` timestamp NULL DEFAULT NULL,\\n  `updated_at` timestamp NULL DEFAULT NULL,\\n  PRIMARY KEY (`customer_id`),\\n  KEY `idx_phone` (`phone`),\\n  KEY `idx_check_in_date` (`check_in_date`),\\n  KEY `idx_check_out_date` (`check_out_date`)\\n) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='客户档案表'\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:43:39.861Z | SQL: SHOW CREATE TABLE aiying_health.rooms | SUCCESS
2025-12-24T05:43:39.861Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW CREATE TABLE aiying_health.rooms"},"_meta":{"claudecode/toolUseId":"tooluse_ahcCmxH8Qh2_yoq68OCkdQ"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Table\": \"rooms\",\n      \"Create Table\": \"CREATE TABLE `rooms` (\\n  `room_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '房间ID',\\n  `room_name` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '房间名称（24节气命名）',\\n  `floor` tinyint NOT NULL COMMENT '楼层：1=一楼，2=二楼',\\n  `room_type` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '房型（标准间/套房/双床房等）',\\n  `color_code` varchar(7) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '#FFFFFF' COMMENT '颜色代码（用于房态展示）',\\n  `ac_group_id` int DEFAULT NULL COMMENT '空调组ID',\\n  `display_order` int NOT NULL DEFAULT '0' COMMENT '显示顺序',\\n  `created_at` timestamp NULL DEFAULT NULL,\\n  `updated_at` timestamp NULL DEFAULT NULL,\\n  PRIMARY KEY (`room_id`),\\n  UNIQUE KEY `uk_room_name` (`room_name`),\\n  KEY `idx_floor` (`floor`),\\n  KEY `idx_display_order` (`display_order`)\\n) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='房间信息表'\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:43:39.962Z | SQL: SHOW CREATE TABLE aiying_health.admins | SUCCESS
2025-12-24T05:43:39.962Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW CREATE TABLE aiying_health.admins"},"_meta":{"claudecode/toolUseId":"tooluse_bg8o8lKMSU2E5FX26qxUwA"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Table\": \"admins\",\n      \"Create Table\": \"CREATE TABLE `admins` (\\n  `admin_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '管理员ID',\\n  `username` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '用户名（登录账号）',\\n  `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '密码（bcrypt加密）',\\n  `real_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '真实姓名',\\n  `email` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '邮箱',\\n  `phone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '联系电话',\\n  `status` tinyint NOT NULL DEFAULT '1' COMMENT '状态：0=禁用，1=启用',\\n  `last_login_at` timestamp NULL DEFAULT NULL COMMENT '最后登录时间',\\n  `last_login_ip` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '最后登录IP',\\n  `created_at` timestamp NULL DEFAULT NULL,\\n  `updated_at` timestamp NULL DEFAULT NULL,\\n  PRIMARY KEY (`admin_id`),\\n  UNIQUE KEY `uk_username` (`username`),\\n  KEY `idx_status` (`status`),\\n  KEY `idx_created_at` (`created_at`)\\n) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='管理员表'\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:43:40.055Z | SQL: SHOW CREATE TABLE aiying_health.room_status | SUCCESS
2025-12-24T05:43:40.056Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW CREATE TABLE aiying_health.room_status"},"_meta":{"claudecode/toolUseId":"tooluse_6xBj-0AtRkmpVlJ6e-aVFw"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Table\": \"room_status\",\n      \"Create Table\": \"CREATE TABLE `room_status` (\\n  `record_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '记录ID',\\n  `room_id` bigint unsigned NOT NULL COMMENT '房间ID',\\n  `customer_id` bigint unsigned DEFAULT NULL COMMENT '客户ID',\\n  `check_in_date` date DEFAULT NULL COMMENT '入住日期',\\n  `check_out_date` date DEFAULT NULL COMMENT '退房日期',\\n  `status` tinyint NOT NULL DEFAULT '0' COMMENT '状态：0=空闲，1=已入住，2=维护中',\\n  `record_month` varchar(7) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '记录月份（格式：YYYY-MM）',\\n  `created_at` timestamp NULL DEFAULT NULL,\\n  `updated_at` timestamp NULL DEFAULT NULL,\\n  PRIMARY KEY (`record_id`),\\n  KEY `idx_room_month` (`room_id`,`record_month`),\\n  KEY `idx_customer_id` (`customer_id`),\\n  KEY `idx_check_dates` (`check_in_date`,`check_out_date`),\\n  KEY `idx_status` (`status`),\\n  CONSTRAINT `fk_room_status_customer` FOREIGN KEY (`customer_id`) REFERENCES `customers` (`customer_id`) ON DELETE SET NULL,\\n  CONSTRAINT `fk_room_status_room` FOREIGN KEY (`room_id`) REFERENCES `rooms` (`room_id`) ON DELETE CASCADE\\n) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='房态记录表'\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:43:40.152Z | SQL: SHOW CREATE TABLE aiying_health.score_card_records | SUCCESS
2025-12-24T05:43:40.152Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW CREATE TABLE aiying_health.score_card_records"},"_meta":{"claudecode/toolUseId":"tooluse_D9Ju6O50T5CT-_4WoDAXYQ"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Table\": \"score_card_records\",\n      \"Create Table\": \"CREATE TABLE `score_card_records` (\\n  `record_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '记录ID',\\n  `customer_id` bigint unsigned NOT NULL COMMENT '客户ID',\\n  `card_number` int NOT NULL COMMENT '第几张评分卡（1,2,3...）',\\n  `record_date` date NOT NULL COMMENT '记录日期',\\n  `score_data` json DEFAULT NULL COMMENT '评分数据（JSON格式存储）',\\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\\n  PRIMARY KEY (`record_id`),\\n  KEY `idx_customer_id` (`customer_id`),\\n  KEY `idx_record_date` (`record_date`),\\n  KEY `idx_customer_card` (`customer_id`,`card_number`),\\n  CONSTRAINT `fk_score_card_customer` FOREIGN KEY (`customer_id`) REFERENCES `customers` (`customer_id`) ON DELETE CASCADE\\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='评分卡记录表'\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:45:09.243Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T05:45:09.247Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T05:45:11.317Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:45:11.317Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T05:45:16.970Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:45:16.970Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T05:45:16.971Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T05:45:16.972Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T05:45:17.157Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T05:45:17.157Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T05:46:24.020Z | SQL: SHOW TABLES FROM aiying | SUCCESS
2025-12-24T05:46:24.020Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW TABLES FROM aiying"},"_meta":{"claudecode/toolUseId":"tooluse_ZIvm2bTGSECFTK9peyArqg"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Tables_in_aiying\": \"admins\"\n    },\n    {\n      \"Tables_in_aiying\": \"carts\"\n    },\n    {\n      \"Tables_in_aiying\": \"categories\"\n    },\n    {\n      \"Tables_in_aiying\": \"customers\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_configs\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_order_items\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_orders\"\n    },\n    {\n      \"Tables_in_aiying\": \"notification_logs\"\n    },\n    {\n      \"Tables_in_aiying\": \"order_items\"\n    },\n    {\n      \"Tables_in_aiying\": \"orders\"\n    },\n    {\n      \"Tables_in_aiying\": \"points_history\"\n    },\n    {\n      \"Tables_in_aiying\": \"products\"\n    },\n    {\n      \"Tables_in_aiying\": \"room_status\"\n    },\n    {\n      \"Tables_in_aiying\": \"rooms\"\n    },\n    {\n      \"Tables_in_aiying\": \"score_card_records\"\n    },\n    {\n      \"Tables_in_aiying\": \"system_configs\"\n    },\n    {\n      \"Tables_in_aiying\": \"users\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T05:53:40.462Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T05:53:40.469Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T05:53:42.557Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:53:42.558Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T05:54:47.529Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T05:54:47.529Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T05:54:47.529Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T05:54:47.531Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T05:54:47.702Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T05:54:47.702Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T06:16:55.265Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T06:16:55.268Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T06:16:57.356Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T06:16:57.357Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T06:17:02.780Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T06:17:02.780Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T06:17:02.780Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T06:17:02.782Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T06:17:03.039Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T06:17:03.039Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T08:04:04.903Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T08:04:04.907Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T08:04:07.027Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:04:07.028Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T08:04:10.953Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:04:10.954Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T08:04:10.955Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T08:04:10.957Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T08:04:11.143Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T08:04:11.143Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T08:18:19.805Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T08:18:19.812Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T08:18:21.876Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:18:21.877Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T08:18:25.328Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:18:25.328Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T08:18:25.328Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T08:18:25.330Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T08:18:25.580Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T08:18:25.580Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T08:18:34.090Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T08:18:34.094Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T08:18:36.152Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:18:36.153Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T08:18:42.459Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:18:42.459Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T08:18:42.459Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T08:18:42.461Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T08:18:42.722Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T08:18:42.722Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T08:19:04.498Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T08:19:04.500Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T08:19:06.569Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:19:06.569Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T08:19:09.829Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T08:19:09.829Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T08:19:09.829Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T08:19:09.831Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T08:19:10.096Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T08:19:10.096Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T09:27:43.138Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T09:27:43.143Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T09:27:45.204Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T09:27:45.205Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T09:27:53.085Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T09:27:53.085Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T09:27:53.085Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T09:27:53.087Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T09:27:53.266Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T09:27:53.267Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T09:57:40.249Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T09:57:40.254Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T09:57:42.332Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T09:57:42.333Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T09:57:47.023Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T09:57:47.024Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T09:57:47.024Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T09:57:47.026Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T09:57:47.195Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T09:57:47.195Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T10:11:32.869Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T10:11:32.871Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T10:11:34.929Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:11:34.930Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T10:11:40.730Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:11:40.731Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T10:11:40.731Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T10:11:40.732Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T10:11:40.928Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T10:11:40.928Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T10:12:38.883Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T10:12:38.888Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T10:12:40.987Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:12:40.989Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T10:12:44.906Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:12:44.906Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T10:12:44.906Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T10:12:44.908Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T10:12:45.177Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T10:12:45.178Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T10:12:45.263Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T10:12:45.265Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T10:12:47.317Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:12:47.318Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T10:12:51.842Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:12:51.842Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T10:12:51.842Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T10:12:51.844Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T10:12:52.101Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T10:12:52.101Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T10:14:52.566Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T10:14:52.569Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T10:14:54.645Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:14:54.646Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T10:14:59.244Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:14:59.244Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T10:14:59.244Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T10:14:59.246Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T10:14:59.517Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T10:14:59.517Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T10:43:39.453Z | SQL: DESCRIBE points_history; | SUCCESS
2025-12-24T10:43:39.453Z | tools/call | {"name":"sql_query","arguments":{"sql":"DESCRIBE points_history;"},"_meta":{"claudecode/toolUseId":"toolu_vrtx_0125Yr7kC98377mTkXfZDgHe"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Field\": \"id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"PRI\",\n      \"Default\": null,\n      \"Extra\": \"auto_increment\"\n    },\n    {\n      \"Field\": \"user_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"customer_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"type\",\n      \"Type\": \"enum('earn','spend','refund','admin_add','admin_deduct')\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"points\",\n      \"Type\": \"int\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"balance_before\",\n      \"Type\": \"int unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"balance_after\",\n      \"Type\": \"int unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"source\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"source_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"description\",\n      \"Type\": \"varchar(255)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"operator_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"created_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"CURRENT_TIMESTAMP\",\n      \"Extra\": \"DEFAULT_GENERATED\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-24T10:53:10.642Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-24T10:53:10.644Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T10:53:12.702Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:53:12.703Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-24T10:53:19.321Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-24T10:53:19.321Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-24T10:53:19.321Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-24T10:53:19.323Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-24T10:53:19.559Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-24T10:53:19.559Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-24T11:31:40.567Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T11:31:43.533Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T11:31:43.534Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T12:26:30.468Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T12:27:06.285Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T12:27:06.286Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T13:18:25.613Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T13:18:27.478Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T13:18:27.478Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-24T13:37:28.993Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-24T13:37:31.792Z | connection_pool_recreated | {"host":"82.157.47.215","port":3306,"database":"aiying"} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T01:31:22.946Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T01:31:25.763Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T01:31:25.763Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T01:38:16.245Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T01:38:19.876Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T01:38:19.876Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T01:42:36.473Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T01:43:30.980Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T01:43:30.980Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T02:09:12.557Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T02:10:07.667Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T02:10:07.668Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T02:12:44.848Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T02:12:44.866Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T02:12:46.963Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T02:12:46.964Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T02:12:55.540Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T02:12:55.540Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T02:12:55.540Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T02:12:55.542Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T02:12:55.781Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T02:12:55.781Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T03:54:11.568Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T03:54:11.571Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T03:54:13.659Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T03:54:13.660Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T03:54:28.038Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T03:54:28.039Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T03:54:28.039Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T03:54:28.040Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T03:54:28.277Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T03:54:28.277Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T03:56:49.162Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T03:56:49.165Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T03:56:51.239Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T03:56:51.240Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T03:56:57.109Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T03:56:57.110Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T03:56:57.110Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T03:56:57.112Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T03:56:57.293Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T03:56:57.293Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T04:12:51.482Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T04:12:51.482Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T04:12:51.482Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T04:12:51.484Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T04:12:51.672Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T04:12:51.673Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T04:54:51.669Z | SQL: SELECT * FROM system_configs WHERE config_key IN ('checkin_points_amount', 'consumption_points_rate') | SUCCESS
2025-12-25T04:54:51.671Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT * FROM system_configs WHERE config_key IN ('checkin_points_amount', 'consumption_points_rate')"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766638491547513000-247"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [],\n  \"affectedRows\": 0\n}"}]}
2025-12-25T04:54:56.819Z | SQL: SELECT * FROM system_configs LIMIT 5 | SUCCESS
2025-12-25T04:54:56.820Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT * FROM system_configs LIMIT 5"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766638496703972000-248"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"id\": 1,\n      \"config_key\": \"points_exchange_rate\",\n      \"config_value\": \"100\",\n      \"config_type\": \"number\",\n      \"group\": \"points\",\n      \"description\": \"积分兑换比例：多少积分=1元\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 2,\n      \"config_key\": \"points_max_discount_rate\",\n      \"config_value\": \"50\",\n      \"config_type\": \"number\",\n      \"group\": \"points\",\n      \"description\": \"积分最大抵扣比例（百分比）\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 3,\n      \"config_key\": \"order_cancel_minutes\",\n      \"config_value\": \"30\",\n      \"config_type\": \"number\",\n      \"group\": \"order\",\n      \"description\": \"订单自动取消时间（分钟）\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 4,\n      \"config_key\": \"order_auto_complete_days\",\n      \"config_value\": \"7\",\n      \"config_type\": \"number\",\n      \"group\": \"order\",\n      \"description\": \"订单自动完成天数（发货后）\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 5,\n      \"config_key\": \"wechat_robot_webhook\",\n      \"config_value\": \"\",\n      \"config_type\": \"string\",\n      \"group\": \"notification\",\n      \"description\": \"企业微信机器人Webhook地址\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-25T04:55:03.764Z | SQL: INSERT INTO system_configs (config_key, config_value, config_type, `group`, description, created_at, updated_at) VALUES 
('checkin_points_amount', '100', 'number', 'points', '入住赠送积分数量', NOW(), NOW()),
('consumption_points_rate', '0.1', 'number', 'points', '消费返积分比例（每消费1元返多少积分）', NOW(), NOW()) | SUCCESS
2025-12-25T04:55:03.764Z | tools/call | {"name":"sql_query","arguments":{"sql":"INSERT INTO system_configs (config_key, config_value, config_type, `group`, description, created_at, updated_at) VALUES \n('checkin_points_amount', '100', 'number', 'points', '入住赠送积分数量', NOW(), NOW()),\n('consumption_points_rate', '0.1', 'number', 'points', '消费返积分比例（每消费1元返多少积分）', NOW(), NOW())"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766638503623609000-249"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": {\n    \"fieldCount\": 0,\n    \"affectedRows\": 2,\n    \"insertId\": 9,\n    \"info\": \"Records: 2  Duplicates: 0  Warnings: 0\",\n    \"serverStatus\": 2,\n    \"warningStatus\": 0,\n    \"changedRows\": 0\n  },\n  \"affectedRows\": 2,\n  \"insertId\": 9\n}"}]}
2025-12-25T05:33:39.580Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T05:33:39.597Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T05:33:41.812Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T05:33:41.813Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T05:33:50.403Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T05:33:50.404Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T05:33:50.404Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T05:33:50.405Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T05:33:50.568Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T05:33:50.568Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T05:57:07.655Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T05:57:07.662Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T05:57:09.759Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T05:57:09.760Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T05:57:20.215Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T05:57:20.215Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T05:57:20.215Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T05:57:20.217Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T05:57:20.386Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T05:57:20.387Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T05:57:32.507Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T05:57:32.508Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T05:57:34.572Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T05:57:34.573Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T05:57:44.269Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T05:57:44.270Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T05:57:44.270Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T05:57:44.272Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T05:57:44.476Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T05:57:44.476Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T08:25:48.172Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T08:25:48.180Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T08:25:50.244Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T08:25:50.245Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T08:25:54.225Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T08:25:54.226Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T08:25:54.226Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T08:25:54.227Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T08:25:54.390Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T08:25:54.390Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T08:36:04.214Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T08:36:04.215Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T08:36:04.215Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T08:36:04.217Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T08:36:04.483Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T08:36:04.483Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T08:52:16.920Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T08:52:16.925Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T08:52:19.002Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T08:52:19.002Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T08:52:27.789Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T08:52:27.790Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T08:52:27.790Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T08:52:27.792Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T08:52:28.086Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T08:52:28.086Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T09:45:40.040Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T09:45:40.046Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T09:45:42.117Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T09:45:42.118Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T09:45:48.289Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T09:45:48.290Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T09:45:48.290Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T09:45:48.291Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T09:45:48.475Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T09:45:48.475Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T10:22:11.074Z | SQL: SELECT * FROM aiying.system_configs ORDER BY `group`, id | SUCCESS
2025-12-25T10:22:11.075Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT * FROM aiying.system_configs ORDER BY `group`, id"},"_meta":{"claudecode/toolUseId":"toolu_vrtx_01U8s4HNTgp4yBT1WeDtrNsF"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"id\": 5,\n      \"config_key\": \"wechat_robot_webhook\",\n      \"config_value\": \"\",\n      \"config_type\": \"string\",\n      \"group\": \"notification\",\n      \"description\": \"企业微信机器人Webhook地址\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 6,\n      \"config_key\": \"daily_report_time\",\n      \"config_value\": \"20:00\",\n      \"config_type\": \"string\",\n      \"group\": \"notification\",\n      \"description\": \"每日统计推送时间\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 7,\n      \"config_key\": \"notify_new_meal_order\",\n      \"config_value\": \"true\",\n      \"config_type\": \"boolean\",\n      \"group\": \"notification\",\n      \"description\": \"新订餐订单是否通知\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 8,\n      \"config_key\": \"notify_new_goods_order\",\n      \"config_value\": \"true\",\n      \"config_type\": \"boolean\",\n      \"group\": \"notification\",\n      \"description\": \"新商城订单是否通知\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 3,\n      \"config_key\": \"order_cancel_minutes\",\n      \"config_value\": \"30\",\n      \"config_type\": \"number\",\n      \"group\": \"order\",\n      \"description\": \"订单自动取消时间（分钟）\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 4,\n      \"config_key\": \"order_auto_complete_days\",\n      \"config_value\": \"7\",\n      \"config_type\": \"number\",\n      \"group\": \"order\",\n      \"description\": \"订单自动完成天数（发货后）\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 1,\n      \"config_key\": \"points_exchange_rate\",\n      \"config_value\": \"100\",\n      \"config_type\": \"number\",\n      \"group\": \"points\",\n      \"description\": \"积分兑换比例：多少积分=1元\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 2,\n      \"config_key\": \"points_max_discount_rate\",\n      \"config_value\": \"50\",\n      \"config_type\": \"number\",\n      \"group\": \"points\",\n      \"description\": \"积分最大抵扣比例（百分比）\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 9,\n      \"config_key\": \"checkin_points_amount\",\n      \"config_value\": \"100\",\n      \"config_type\": \"number\",\n      \"group\": \"points\",\n      \"description\": \"入住赠送积分数量\",\n      \"created_at\": \"2025-12-25T04:55:03.000Z\",\n      \"updated_at\": \"2025-12-25T04:55:03.000Z\"\n    },\n    {\n      \"id\": 10,\n      \"config_key\": \"consumption_points_rate\",\n      \"config_value\": \"0.1\",\n      \"config_type\": \"number\",\n      \"group\": \"points\",\n      \"description\": \"消费返积分比例（每消费1元返多少积分）\",\n      \"created_at\": \"2025-12-25T04:55:03.000Z\",\n      \"updated_at\": \"2025-12-25T04:55:03.000Z\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-25T10:48:22.817Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T10:48:22.828Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T10:48:25.000Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T10:48:25.003Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T10:48:32.972Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T10:48:32.973Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T10:48:32.973Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T10:48:32.976Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T10:48:33.150Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T10:48:33.150Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T10:51:01.669Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T10:51:01.671Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T10:51:03.736Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T10:51:03.736Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T10:51:21.150Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T10:51:21.151Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T10:51:21.151Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T10:51:21.152Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T10:51:21.346Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T10:51:21.346Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T10:58:36.830Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T10:58:36.831Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T10:58:36.831Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T10:58:36.833Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T10:58:37.046Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T10:58:37.046Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T10:59:17.241Z | SQL: SELECT DISTINCT room_type FROM rooms WHERE room_type IS NOT NULL AND room_type != '' ORDER BY room_type | SUCCESS
2025-12-25T10:59:17.241Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT DISTINCT room_type FROM rooms WHERE room_type IS NOT NULL AND room_type != '' ORDER BY room_type"},"_meta":{"claudecode/toolUseId":"tooluse_FJO-ibw7RWq-fZ3IMgMRcg"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"room_type\": \"储藏室\"\n    },\n    {\n      \"room_type\": \"公共区域\"\n    },\n    {\n      \"room_type\": \"卫生间\"\n    },\n    {\n      \"room_type\": \"厨房\"\n    },\n    {\n      \"room_type\": \"双床\"\n    },\n    {\n      \"room_type\": \"双床房\"\n    },\n    {\n      \"room_type\": \"大床房\"\n    },\n    {\n      \"room_type\": \"套房\"\n    },\n    {\n      \"room_type\": \"宿舍\"\n    },\n    {\n      \"room_type\": \"小套房\"\n    },\n    {\n      \"room_type\": \"标准间\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-25T10:59:22.588Z | SQL: SELECT * FROM room_status WHERE status = 1 LIMIT 5 | SUCCESS
2025-12-25T10:59:22.588Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT * FROM room_status WHERE status = 1 LIMIT 5"},"_meta":{"claudecode/toolUseId":"tooluse_1vWsOlDBTyS-2OPsa89T4w"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"record_id\": 1,\n      \"room_id\": 1,\n      \"customer_id\": null,\n      \"check_in_date\": null,\n      \"check_out_date\": null,\n      \"status\": 1,\n      \"record_month\": \"2025-06\",\n      \"created_at\": \"2025-12-16T03:36:39.000Z\",\n      \"updated_at\": \"2025-12-16T03:36:39.000Z\"\n    },\n    {\n      \"record_id\": 4,\n      \"room_id\": 1,\n      \"customer_id\": 16,\n      \"check_in_date\": \"2025-12-18T16:00:00.000Z\",\n      \"check_out_date\": \"2026-01-15T16:00:00.000Z\",\n      \"status\": 1,\n      \"record_month\": \"2025-12\",\n      \"created_at\": \"2025-12-16T04:23:06.000Z\",\n      \"updated_at\": \"2025-12-19T01:17:37.000Z\"\n    },\n    {\n      \"record_id\": 5,\n      \"room_id\": 1,\n      \"customer_id\": null,\n      \"check_in_date\": \"2025-12-03T16:00:00.000Z\",\n      \"check_out_date\": \"2026-02-11T16:00:00.000Z\",\n      \"status\": 1,\n      \"record_month\": \"2026-02\",\n      \"created_at\": \"2025-12-16T04:43:37.000Z\",\n      \"updated_at\": \"2025-12-16T04:43:37.000Z\"\n    },\n    {\n      \"record_id\": 7,\n      \"room_id\": 2,\n      \"customer_id\": null,\n      \"check_in_date\": \"2026-01-13T16:00:00.000Z\",\n      \"check_out_date\": \"2026-02-11T16:00:00.000Z\",\n      \"status\": 1,\n      \"record_month\": \"2026-01\",\n      \"created_at\": \"2025-12-16T06:11:16.000Z\",\n      \"updated_at\": \"2025-12-16T06:11:16.000Z\"\n    },\n    {\n      \"record_id\": 8,\n      \"room_id\": 2,\n      \"customer_id\": null,\n      \"check_in_date\": \"2026-01-13T16:00:00.000Z\",\n      \"check_out_date\": \"2026-02-11T16:00:00.000Z\",\n      \"status\": 1,\n      \"record_month\": \"2026-02\",\n      \"created_at\": \"2025-12-16T06:11:16.000Z\",\n      \"updated_at\": \"2025-12-16T06:11:16.000Z\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-25T11:17:54.804Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T11:17:57.890Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T11:17:57.891Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T11:27:23.671Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T11:28:40.512Z | connection_pool_recreate_error | {"error":"connect ETIMEDOUT"} | connect ETIMEDOUT | RESPONSE: null
2025-12-25T11:28:40.513Z | health_check_error | {"error":"connect ETIMEDOUT"} | connect ETIMEDOUT | RESPONSE: null
2025-12-25T12:01:16.921Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T12:01:20.678Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T12:01:20.679Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-25T13:31:01.291Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T13:31:01.292Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T13:31:03.453Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T13:31:03.454Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T13:31:18.374Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T13:31:18.374Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T13:31:18.374Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T13:31:18.376Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T13:31:18.516Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T13:31:18.517Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T13:44:20.556Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T13:44:20.557Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T13:44:22.651Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T13:44:22.652Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T13:56:00.226Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T13:56:00.226Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T13:56:00.226Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T13:56:00.228Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T13:56:00.382Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T13:56:00.382Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T13:57:39.482Z | SQL: SELECT customer_id, customer_name, check_in_date, check_out_date FROM customers LIMIT 10 | SUCCESS
2025-12-25T13:57:39.484Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT customer_id, customer_name, check_in_date, check_out_date FROM customers LIMIT 10"},"_meta":{"claudecode/toolUseId":"toolu_01TbtZciSXHYNxbQTgFchzUv"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"customer_id\": 10,\n      \"customer_name\": \"矫雨彤\",\n      \"check_in_date\": \"2025-12-08T15:54:00.000Z\",\n      \"check_out_date\": \"2026-01-05T03:00:00.000Z\"\n    },\n    {\n      \"customer_id\": 11,\n      \"customer_name\": \"王嘉\",\n      \"check_in_date\": \"2025-12-11T15:56:00.000Z\",\n      \"check_out_date\": \"2026-01-08T07:56:00.000Z\"\n    },\n    {\n      \"customer_id\": 12,\n      \"customer_name\": \"鞠鑫玉\",\n      \"check_in_date\": \"2025-12-10T07:59:00.000Z\",\n      \"check_out_date\": \"2025-12-16T08:07:00.000Z\"\n    },\n    {\n      \"customer_id\": 13,\n      \"customer_name\": \"刘思宁\",\n      \"check_in_date\": \"2025-11-24T08:06:00.000Z\",\n      \"check_out_date\": \"2025-12-16T08:07:00.000Z\"\n    },\n    {\n      \"customer_id\": 14,\n      \"customer_name\": \"谷英美\",\n      \"check_in_date\": \"2025-12-08T08:05:00.000Z\",\n      \"check_out_date\": \"2026-01-19T08:06:00.000Z\"\n    },\n    {\n      \"customer_id\": 15,\n      \"customer_name\": \"王英霞\",\n      \"check_in_date\": \"2025-12-18T00:10:00.000Z\",\n      \"check_out_date\": \"2026-01-29T00:13:00.000Z\"\n    },\n    {\n      \"customer_id\": 16,\n      \"customer_name\": \"董燕\",\n      \"check_in_date\": \"2025-12-19T01:16:00.000Z\",\n      \"check_out_date\": \"2026-01-16T01:16:00.000Z\"\n    },\n    {\n      \"customer_id\": 17,\n      \"customer_name\": \"刘峻岐\",\n      \"check_in_date\": null,\n      \"check_out_date\": null\n    },\n    {\n      \"customer_id\": 18,\n      \"customer_name\": \"迟晓琳\",\n      \"check_in_date\": null,\n      \"check_out_date\": null\n    },\n    {\n      \"customer_id\": 19,\n      \"customer_name\": \"杨子涵\",\n      \"check_in_date\": null,\n      \"check_out_date\": null\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-25T14:14:28.873Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T14:14:28.874Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T14:14:28.874Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T14:14:28.875Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T14:14:29.083Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T14:14:29.083Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-25T14:17:09.808Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-25T14:17:09.813Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-25T14:17:11.881Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T14:17:11.882Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-25T14:17:18.963Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-25T14:17:18.963Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-25T14:17:18.964Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-25T14:17:18.965Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-25T14:17:19.104Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-25T14:17:19.104Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-26T02:51:11.143Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T02:51:11.143Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-26T02:51:11.144Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-26T02:51:11.145Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-26T02:51:11.873Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-26T02:51:11.873Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-26T03:25:22.449Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T03:25:22.449Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-26T03:25:22.449Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-26T03:25:22.451Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-26T03:25:22.681Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-26T03:25:22.681Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-26T03:26:16.330Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-26T03:26:16.334Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-26T03:26:18.421Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T03:26:18.422Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-26T03:26:23.232Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T03:26:23.232Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-26T03:26:23.232Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-26T03:26:23.234Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-26T03:26:23.606Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-26T03:26:23.606Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-26T03:26:55.152Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-26T03:26:55.156Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-26T03:26:57.224Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T03:26:57.225Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-26T03:27:01.113Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T03:27:01.113Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-26T03:27:01.113Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-26T03:27:01.115Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-26T03:27:01.401Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-26T03:27:01.401Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-26T04:17:30.252Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-26T04:17:30.257Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-26T04:17:32.323Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T04:17:32.324Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-26T04:17:39.517Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T04:17:39.517Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-26T04:17:39.517Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-26T04:17:39.520Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-26T04:17:39.797Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-26T04:17:39.797Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-26T04:23:41.738Z | SQL: SELECT * FROM system_configs WHERE `group` = 'notification' OR `group` = 'notify'; | SUCCESS
2025-12-26T04:23:41.739Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT * FROM system_configs WHERE `group` = 'notification' OR `group` = 'notify';"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766723021612986000-865"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"id\": 5,\n      \"config_key\": \"wechat_robot_webhook\",\n      \"config_value\": \"\",\n      \"config_type\": \"string\",\n      \"group\": \"notification\",\n      \"description\": \"企业微信机器人Webhook地址\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 6,\n      \"config_key\": \"daily_report_time\",\n      \"config_value\": \"20:00\",\n      \"config_type\": \"string\",\n      \"group\": \"notification\",\n      \"description\": \"每日统计推送时间\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 7,\n      \"config_key\": \"notify_new_meal_order\",\n      \"config_value\": \"true\",\n      \"config_type\": \"boolean\",\n      \"group\": \"notification\",\n      \"description\": \"新订餐订单是否通知\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    },\n    {\n      \"id\": 8,\n      \"config_key\": \"notify_new_goods_order\",\n      \"config_value\": \"true\",\n      \"config_type\": \"boolean\",\n      \"group\": \"notification\",\n      \"description\": \"新商城订单是否通知\",\n      \"created_at\": \"2025-12-24T05:40:44.000Z\",\n      \"updated_at\": \"2025-12-24T05:40:44.000Z\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:05:38.109Z | tools/call | {"name":"get_database_info","arguments":{"reason":"获取数据库结构，了解有哪些表可以用于统计"},"_meta":{"claudecode/toolUseId":"mcp__mysql__get_database_info-1766729132838612000-1088"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"databases\": [\n    \"aiying\",\n    \"aiying_health\",\n    \"information_schema\",\n    \"linshi_aiying\",\n    \"mysql\",\n    \"performance_schema\",\n    \"sys\"\n  ],\n  \"tables\": [\n    \"addresses\",\n    \"admins\",\n    \"carts\",\n    \"categories\",\n    \"customers\",\n    \"family_meal_orders\",\n    \"meal_configs\",\n    \"meal_order_items\",\n    \"meal_orders\",\n    \"migrations\",\n    \"notification_logs\",\n    \"order_items\",\n    \"orders\",\n    \"personal_access_tokens\",\n    \"points_history\",\n    \"products\",\n    \"room_status\",\n    \"rooms\",\n    \"score_card_records\",\n    \"system_configs\",\n    \"users\"\n  ],\n  \"config\": {\n    \"host\": \"82.157.47.215\",\n    \"port\": 3306,\n    \"database\": \"aiying\",\n    \"readonly\": false,\n    \"allowDDL\": false,\n    \"allowDrop\": false,\n    \"allowDelete\": false\n  }\n}"}]}
2025-12-26T06:05:54.443Z | SQL: DESCRIBE orders | SUCCESS
2025-12-26T06:05:54.443Z | tools/call | {"name":"sql_query","arguments":{"sql":"DESCRIBE orders"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766729152654354000-1091"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Field\": \"id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"PRI\",\n      \"Default\": null,\n      \"Extra\": \"auto_increment\"\n    },\n    {\n      \"Field\": \"order_no\",\n      \"Type\": \"varchar(32)\",\n      \"Null\": \"NO\",\n      \"Key\": \"UNI\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"user_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"customer_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"delivery_type\",\n      \"Type\": \"enum('express','room')\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"express\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"room_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"room_name\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"receiver_name\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"receiver_phone\",\n      \"Type\": \"varchar(20)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"receiver_address\",\n      \"Type\": \"varchar(255)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"total_amount\",\n      \"Type\": \"decimal(10,2) unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"freight_amount\",\n      \"Type\": \"decimal(10,2) unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"0.00\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"points_used\",\n      \"Type\": \"int unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"0\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"points_discount\",\n      \"Type\": \"decimal(10,2) unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"0.00\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"actual_amount\",\n      \"Type\": \"decimal(10,2) unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"payment_type\",\n      \"Type\": \"enum('cash','points','mixed')\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"cash\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"payment_status\",\n      \"Type\": \"tinyint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"0\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"transaction_id\",\n      \"Type\": \"varchar(64)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"paid_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"order_status\",\n      \"Type\": \"tinyint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"0\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"shipping_no\",\n      \"Type\": \"varchar(64)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"shipping_company\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"shipped_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"completed_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"cancelled_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"cancel_reason\",\n      \"Type\": \"varchar(255)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"refund_status\",\n      \"Type\": \"tinyint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"0\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"refund_reason\",\n      \"Type\": \"varchar(255)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"refund_amount\",\n      \"Type\": \"decimal(10,2) unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"refund_points\",\n      \"Type\": \"int unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"refund_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"remarks\",\n      \"Type\": \"varchar(255)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"created_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"CURRENT_TIMESTAMP\",\n      \"Extra\": \"DEFAULT_GENERATED\"\n    },\n    {\n      \"Field\": \"updated_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"CURRENT_TIMESTAMP\",\n      \"Extra\": \"DEFAULT_GENERATED on update CURRENT_TIMESTAMP\"\n    },\n    {\n      \"Field\": \"deleted_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:05:54.545Z | SQL: DESCRIBE meal_orders | SUCCESS
2025-12-26T06:05:54.545Z | tools/call | {"name":"sql_query","arguments":{"sql":"DESCRIBE meal_orders"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766729153313085000-1092"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Field\": \"id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"PRI\",\n      \"Default\": null,\n      \"Extra\": \"auto_increment\"\n    },\n    {\n      \"Field\": \"order_no\",\n      \"Type\": \"varchar(32)\",\n      \"Null\": \"NO\",\n      \"Key\": \"UNI\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"user_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"customer_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"room_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"room_name\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"customer_name\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"total_amount\",\n      \"Type\": \"decimal(10,2) unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"points_used\",\n      \"Type\": \"int unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"0\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"points_discount\",\n      \"Type\": \"decimal(10,2) unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"0.00\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"actual_amount\",\n      \"Type\": \"decimal(10,2) unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"payment_type\",\n      \"Type\": \"enum('cash','points','mixed')\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"cash\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"payment_status\",\n      \"Type\": \"tinyint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"0\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"transaction_id\",\n      \"Type\": \"varchar(64)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"paid_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"order_status\",\n      \"Type\": \"tinyint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"0\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"completed_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"cancelled_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"cancel_reason\",\n      \"Type\": \"varchar(255)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"remarks\",\n      \"Type\": \"varchar(255)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"created_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"CURRENT_TIMESTAMP\",\n      \"Extra\": \"DEFAULT_GENERATED\"\n    },\n    {\n      \"Field\": \"updated_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"CURRENT_TIMESTAMP\",\n      \"Extra\": \"DEFAULT_GENERATED on update CURRENT_TIMESTAMP\"\n    },\n    {\n      \"Field\": \"deleted_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:05:54.632Z | SQL: DESCRIBE rooms | SUCCESS
2025-12-26T06:05:54.633Z | tools/call | {"name":"sql_query","arguments":{"sql":"DESCRIBE rooms"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766729153740392000-1093"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Field\": \"room_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"PRI\",\n      \"Default\": null,\n      \"Extra\": \"auto_increment\"\n    },\n    {\n      \"Field\": \"room_name\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"NO\",\n      \"Key\": \"UNI\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"floor\",\n      \"Type\": \"tinyint\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"room_type\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"color_code\",\n      \"Type\": \"varchar(7)\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"#FFFFFF\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"ac_group_id\",\n      \"Type\": \"int\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"display_order\",\n      \"Type\": \"int\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"0\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"created_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"updated_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:05:54.739Z | SQL: DESCRIBE room_status | SUCCESS
2025-12-26T06:05:54.739Z | tools/call | {"name":"sql_query","arguments":{"sql":"DESCRIBE room_status"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766729154338871000-1094"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Field\": \"record_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"PRI\",\n      \"Default\": null,\n      \"Extra\": \"auto_increment\"\n    },\n    {\n      \"Field\": \"room_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"customer_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"check_in_date\",\n      \"Type\": \"date\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"check_out_date\",\n      \"Type\": \"date\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"status\",\n      \"Type\": \"tinyint\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"0\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"record_month\",\n      \"Type\": \"varchar(7)\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"created_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"updated_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:11:44.805Z | SQL: DESCRIBE customers | SUCCESS
2025-12-26T06:11:44.806Z | tools/call | {"name":"sql_query","arguments":{"sql":"DESCRIBE customers"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766729504261918000-1124"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Field\": \"customer_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"PRI\",\n      \"Default\": null,\n      \"Extra\": \"auto_increment\"\n    },\n    {\n      \"Field\": \"customer_name\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"phone\",\n      \"Type\": \"varchar(20)\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"package_name\",\n      \"Type\": \"varchar(100)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"baby_name\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"mother_birthday\",\n      \"Type\": \"date\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"baby_birthday\",\n      \"Type\": \"date\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"nanny_name\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"due_date\",\n      \"Type\": \"date\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"address\",\n      \"Type\": \"text\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"check_in_date\",\n      \"Type\": \"datetime\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"check_out_date\",\n      \"Type\": \"datetime\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"remarks\",\n      \"Type\": \"text\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"created_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"updated_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:11:44.890Z | SQL: SELECT COUNT(*) as total FROM customers | SUCCESS
2025-12-26T06:11:44.891Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT COUNT(*) as total FROM customers"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766729504708322000-1125"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"total\": 24\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:43:22.658Z | SQL: SELECT rs.record_id, rs.room_id, rs.customer_id, rs.record_month, rs.status, c.customer_id as c_id, c.customer_name FROM room_status rs LEFT JOIN customers c ON rs.customer_id = c.customer_id WHERE rs.status = 1 LIMIT 10 | SUCCESS
2025-12-26T06:43:22.659Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT rs.record_id, rs.room_id, rs.customer_id, rs.record_month, rs.status, c.customer_id as c_id, c.customer_name FROM room_status rs LEFT JOIN customers c ON rs.customer_id = c.customer_id WHERE rs.status = 1 LIMIT 10"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766731402541298000-1246"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"record_id\": 1,\n      \"room_id\": 1,\n      \"customer_id\": null,\n      \"record_month\": \"2025-06\",\n      \"status\": 1,\n      \"c_id\": null,\n      \"customer_name\": null\n    },\n    {\n      \"record_id\": 4,\n      \"room_id\": 1,\n      \"customer_id\": 16,\n      \"record_month\": \"2025-12\",\n      \"status\": 1,\n      \"c_id\": 16,\n      \"customer_name\": \"董燕\"\n    },\n    {\n      \"record_id\": 5,\n      \"room_id\": 1,\n      \"customer_id\": null,\n      \"record_month\": \"2026-02\",\n      \"status\": 1,\n      \"c_id\": null,\n      \"customer_name\": null\n    },\n    {\n      \"record_id\": 7,\n      \"room_id\": 2,\n      \"customer_id\": null,\n      \"record_month\": \"2026-01\",\n      \"status\": 1,\n      \"c_id\": null,\n      \"customer_name\": null\n    },\n    {\n      \"record_id\": 8,\n      \"room_id\": 2,\n      \"customer_id\": null,\n      \"record_month\": \"2026-02\",\n      \"status\": 1,\n      \"c_id\": null,\n      \"customer_name\": null\n    },\n    {\n      \"record_id\": 9,\n      \"room_id\": 21,\n      \"customer_id\": 13,\n      \"record_month\": \"2025-12\",\n      \"status\": 1,\n      \"c_id\": 13,\n      \"customer_name\": \"刘思宁\"\n    },\n    {\n      \"record_id\": 10,\n      \"room_id\": 14,\n      \"customer_id\": 12,\n      \"record_month\": \"2025-12\",\n      \"status\": 1,\n      \"c_id\": 12,\n      \"customer_name\": \"鞠鑫玉\"\n    },\n    {\n      \"record_id\": 11,\n      \"room_id\": 24,\n      \"customer_id\": 14,\n      \"record_month\": \"2025-12\",\n      \"status\": 1,\n      \"c_id\": 14,\n      \"customer_name\": \"谷英美\"\n    },\n    {\n      \"record_id\": 12,\n      \"room_id\": 24,\n      \"customer_id\": 14,\n      \"record_month\": \"2026-01\",\n      \"status\": 1,\n      \"c_id\": 14,\n      \"customer_name\": \"谷英美\"\n    },\n    {\n      \"record_id\": 13,\n      \"room_id\": 23,\n      \"customer_id\": 10,\n      \"record_month\": \"2025-12\",\n      \"status\": 1,\n      \"c_id\": 10,\n      \"customer_name\": \"矫雨彤\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:44:09.397Z | SQL: SHOW TABLES | SUCCESS
2025-12-26T06:44:09.399Z | tools/call | {"name":"sql_query","arguments":{"sql":"SHOW TABLES"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766731449301903000-1247"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Tables_in_aiying\": \"addresses\"\n    },\n    {\n      \"Tables_in_aiying\": \"admins\"\n    },\n    {\n      \"Tables_in_aiying\": \"carts\"\n    },\n    {\n      \"Tables_in_aiying\": \"categories\"\n    },\n    {\n      \"Tables_in_aiying\": \"customers\"\n    },\n    {\n      \"Tables_in_aiying\": \"family_meal_orders\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_configs\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_order_items\"\n    },\n    {\n      \"Tables_in_aiying\": \"meal_orders\"\n    },\n    {\n      \"Tables_in_aiying\": \"migrations\"\n    },\n    {\n      \"Tables_in_aiying\": \"notification_logs\"\n    },\n    {\n      \"Tables_in_aiying\": \"order_items\"\n    },\n    {\n      \"Tables_in_aiying\": \"orders\"\n    },\n    {\n      \"Tables_in_aiying\": \"personal_access_tokens\"\n    },\n    {\n      \"Tables_in_aiying\": \"points_history\"\n    },\n    {\n      \"Tables_in_aiying\": \"products\"\n    },\n    {\n      \"Tables_in_aiying\": \"room_status\"\n    },\n    {\n      \"Tables_in_aiying\": \"rooms\"\n    },\n    {\n      \"Tables_in_aiying\": \"score_card_records\"\n    },\n    {\n      \"Tables_in_aiying\": \"system_configs\"\n    },\n    {\n      \"Tables_in_aiying\": \"users\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:44:19.673Z | SQL: DESC room_status | SUCCESS
2025-12-26T06:44:19.674Z | tools/call | {"name":"sql_query","arguments":{"sql":"DESC room_status"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766731459573994000-1248"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Field\": \"record_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"PRI\",\n      \"Default\": null,\n      \"Extra\": \"auto_increment\"\n    },\n    {\n      \"Field\": \"room_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"customer_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"check_in_date\",\n      \"Type\": \"date\",\n      \"Null\": \"YES\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"check_out_date\",\n      \"Type\": \"date\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"status\",\n      \"Type\": \"tinyint\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"0\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"record_month\",\n      \"Type\": \"varchar(7)\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"created_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"updated_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:44:25.256Z | SQL: SELECT * FROM room_status WHERE customer_id IS NULL AND status = 1 | SUCCESS
2025-12-26T06:44:25.257Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT * FROM room_status WHERE customer_id IS NULL AND status = 1"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766731465156501000-1249"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"record_id\": 1,\n      \"room_id\": 1,\n      \"customer_id\": null,\n      \"check_in_date\": null,\n      \"check_out_date\": null,\n      \"status\": 1,\n      \"record_month\": \"2025-06\",\n      \"created_at\": \"2025-12-16T03:36:39.000Z\",\n      \"updated_at\": \"2025-12-16T03:36:39.000Z\"\n    },\n    {\n      \"record_id\": 5,\n      \"room_id\": 1,\n      \"customer_id\": null,\n      \"check_in_date\": \"2025-12-03T16:00:00.000Z\",\n      \"check_out_date\": \"2026-02-11T16:00:00.000Z\",\n      \"status\": 1,\n      \"record_month\": \"2026-02\",\n      \"created_at\": \"2025-12-16T04:43:37.000Z\",\n      \"updated_at\": \"2025-12-16T04:43:37.000Z\"\n    },\n    {\n      \"record_id\": 7,\n      \"room_id\": 2,\n      \"customer_id\": null,\n      \"check_in_date\": \"2026-01-13T16:00:00.000Z\",\n      \"check_out_date\": \"2026-02-11T16:00:00.000Z\",\n      \"status\": 1,\n      \"record_month\": \"2026-01\",\n      \"created_at\": \"2025-12-16T06:11:16.000Z\",\n      \"updated_at\": \"2025-12-16T06:11:16.000Z\"\n    },\n    {\n      \"record_id\": 8,\n      \"room_id\": 2,\n      \"customer_id\": null,\n      \"check_in_date\": \"2026-01-13T16:00:00.000Z\",\n      \"check_out_date\": \"2026-02-11T16:00:00.000Z\",\n      \"status\": 1,\n      \"record_month\": \"2026-02\",\n      \"created_at\": \"2025-12-16T06:11:16.000Z\",\n      \"updated_at\": \"2025-12-16T06:11:16.000Z\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:44:29.838Z | SQL: SELECT * FROM customers WHERE check_in_date IS NOT NULL OR check_out_date IS NOT NULL LIMIT 10 | SUCCESS
2025-12-26T06:44:29.839Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT * FROM customers WHERE check_in_date IS NOT NULL OR check_out_date IS NOT NULL LIMIT 10"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766731469729579000-1250"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"customer_id\": 10,\n      \"customer_name\": \"矫雨彤\",\n      \"phone\": \"15315517613\",\n      \"package_name\": \"春\",\n      \"baby_name\": \"嘻嘻\",\n      \"mother_birthday\": \"1991-07-23T15:00:00.000Z\",\n      \"baby_birthday\": \"2025-12-04T16:00:00.000Z\",\n      \"nanny_name\": null,\n      \"due_date\": null,\n      \"address\": \"平度市凤台世家\",\n      \"check_in_date\": \"2025-12-08T15:54:00.000Z\",\n      \"check_out_date\": \"2026-01-05T03:00:00.000Z\",\n      \"remarks\": \"\",\n      \"created_at\": \"2025-12-16T07:54:40.000Z\",\n      \"updated_at\": \"2025-12-16T07:54:40.000Z\"\n    },\n    {\n      \"customer_id\": 11,\n      \"customer_name\": \"王嘉\",\n      \"phone\": \"13355328444\",\n      \"package_name\": \"春\",\n      \"baby_name\": \"艾拉\",\n      \"mother_birthday\": \"1985-07-19T16:00:00.000Z\",\n      \"baby_birthday\": \"2025-12-06T16:00:00.000Z\",\n      \"nanny_name\": null,\n      \"due_date\": null,\n      \"address\": \"平度御园新城\",\n      \"check_in_date\": \"2025-12-11T15:56:00.000Z\",\n      \"check_out_date\": \"2026-01-08T07:56:00.000Z\",\n      \"remarks\": \"\",\n      \"created_at\": \"2025-12-16T07:55:49.000Z\",\n      \"updated_at\": \"2025-12-16T07:57:09.000Z\"\n    },\n    {\n      \"customer_id\": 12,\n      \"customer_name\": \"鞠鑫玉\",\n      \"phone\": \"13210873647\",\n      \"package_name\": \"夏\",\n      \"baby_name\": \"佑佑\",\n      \"mother_birthday\": \"1999-10-27T16:00:00.000Z\",\n      \"baby_birthday\": \"2025-12-08T16:00:00.000Z\",\n      \"nanny_name\": null,\n      \"due_date\": null,\n      \"address\": \"平度市上海花园\",\n      \"check_in_date\": \"2025-12-10T07:59:00.000Z\",\n      \"check_out_date\": \"2025-12-16T08:07:00.000Z\",\n      \"remarks\": \"\",\n      \"created_at\": \"2025-12-16T07:59:27.000Z\",\n      \"updated_at\": \"2025-12-16T08:07:09.000Z\"\n    },\n    {\n      \"customer_id\": 13,\n      \"customer_name\": \"刘思宁\",\n      \"phone\": \"13210228168\",\n      \"package_name\": \"夏\",\n      \"baby_name\": \"乘乘\",\n      \"mother_birthday\": \"2000-05-28T16:00:00.000Z\",\n      \"baby_birthday\": null,\n      \"nanny_name\": \"\",\n      \"due_date\": null,\n      \"address\": \"黄岛区海信悦华里\",\n      \"check_in_date\": \"2025-11-24T08:06:00.000Z\",\n      \"check_out_date\": \"2025-12-16T08:07:00.000Z\",\n      \"remarks\": \"\",\n      \"created_at\": \"2025-12-16T08:03:29.000Z\",\n      \"updated_at\": \"2025-12-16T08:29:16.000Z\"\n    },\n    {\n      \"customer_id\": 14,\n      \"customer_name\": \"谷英美\",\n      \"phone\": \"18661891349\",\n      \"package_name\": \"春\",\n      \"baby_name\": \"\",\n      \"mother_birthday\": \"1996-06-27T16:00:00.000Z\",\n      \"baby_birthday\": \"2025-12-03T16:00:00.000Z\",\n      \"nanny_name\": null,\n      \"due_date\": null,\n      \"address\": \"平度张戈庄\",\n      \"check_in_date\": \"2025-12-08T08:05:00.000Z\",\n      \"check_out_date\": \"2026-01-19T08:06:00.000Z\",\n      \"remarks\": \"\",\n      \"created_at\": \"2025-12-16T08:05:51.000Z\",\n      \"updated_at\": \"2025-12-16T08:06:27.000Z\"\n    },\n    {\n      \"customer_id\": 15,\n      \"customer_name\": \"王英霞\",\n      \"phone\": \"15726249109\",\n      \"package_name\": \"春\",\n      \"baby_name\": \"依依\",\n      \"mother_birthday\": null,\n      \"baby_birthday\": \"2025-12-13T16:00:00.000Z\",\n      \"nanny_name\": \"曲芳燕\",\n      \"due_date\": null,\n      \"address\": \"平度锦厦新城\",\n      \"check_in_date\": \"2025-12-18T00:10:00.000Z\",\n      \"check_out_date\": \"2026-01-29T00:13:00.000Z\",\n      \"remarks\": \"\",\n      \"created_at\": \"2025-12-19T00:13:29.000Z\",\n      \"updated_at\": \"2025-12-19T00:22:07.000Z\"\n    },\n    {\n      \"customer_id\": 16,\n      \"customer_name\": \"董燕\",\n      \"phone\": \"15964235337\",\n      \"package_name\": \"夏\",\n      \"baby_name\": \"酉宝\",\n      \"mother_birthday\": \"1992-10-02T16:00:00.000Z\",\n      \"baby_birthday\": \"2025-12-10T16:00:00.000Z\",\n      \"nanny_name\": \"徐美玉\",\n      \"due_date\": null,\n      \"address\": \"平度上城府邸\",\n      \"check_in_date\": \"2025-12-19T01:16:00.000Z\",\n      \"check_out_date\": \"2026-01-16T01:16:00.000Z\",\n      \"remarks\": \"\",\n      \"created_at\": \"2025-12-19T01:16:26.000Z\",\n      \"updated_at\": \"2025-12-19T01:16:57.000Z\"\n    },\n    {\n      \"customer_id\": 20,\n      \"customer_name\": \"付晓莉\",\n      \"phone\": \"13335001238\",\n      \"package_name\": \"秋\",\n      \"baby_name\": \"\",\n      \"mother_birthday\": null,\n      \"baby_birthday\": null,\n      \"nanny_name\": \"\",\n      \"due_date\": null,\n      \"address\": \"平度中央美地天麓\",\n      \"check_in_date\": null,\n      \"check_out_date\": \"2026-01-31T01:48:00.000Z\",\n      \"remarks\": \"跨年费用乙方负担，腊月28日宝妈和宝妈公公过生日\",\n      \"created_at\": \"2025-12-19T01:48:43.000Z\",\n      \"updated_at\": \"2025-12-19T01:48:43.000Z\"\n    },\n    {\n      \"customer_id\": 21,\n      \"customer_name\": \"王丹\",\n      \"phone\": \"17685545786\",\n      \"package_name\": \"春\",\n      \"baby_name\": \"\",\n      \"mother_birthday\": null,\n      \"baby_birthday\": null,\n      \"nanny_name\": \"\",\n      \"due_date\": null,\n      \"address\": \"小洪沟村\",\n      \"check_in_date\": null,\n      \"check_out_date\": \"2026-02-02T01:49:00.000Z\",\n      \"remarks\": \"\",\n      \"created_at\": \"2025-12-19T01:50:33.000Z\",\n      \"updated_at\": \"2025-12-19T01:50:33.000Z\"\n    },\n    {\n      \"customer_id\": 22,\n      \"customer_name\": \"林雪琦\",\n      \"phone\": \"13361243029\",\n      \"package_name\": \"春\",\n      \"baby_name\": \"\",\n      \"mother_birthday\": null,\n      \"baby_birthday\": null,\n      \"nanny_name\": \"\",\n      \"due_date\": null,\n      \"address\": \"平度碧桂园桃李东方\",\n      \"check_in_date\": null,\n      \"check_out_date\": \"2026-02-04T01:50:00.000Z\",\n      \"remarks\": \"跨年费用由乙方承担\",\n      \"created_at\": \"2025-12-19T01:51:46.000Z\",\n      \"updated_at\": \"2025-12-19T01:51:46.000Z\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:44:39.579Z | SQL: SELECT rs.record_id, rs.room_id, rs.check_in_date, rs.check_out_date, rs.record_month, c.customer_id, c.customer_name 
FROM room_status rs 
LEFT JOIN customers c ON rs.check_in_date = DATE(c.check_in_date) AND rs.check_out_date = DATE(c.check_out_date)
WHERE rs.customer_id IS NULL AND rs.status = 1 | SUCCESS
2025-12-26T06:44:39.580Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT rs.record_id, rs.room_id, rs.check_in_date, rs.check_out_date, rs.record_month, c.customer_id, c.customer_name \nFROM room_status rs \nLEFT JOIN customers c ON rs.check_in_date = DATE(c.check_in_date) AND rs.check_out_date = DATE(c.check_out_date)\nWHERE rs.customer_id IS NULL AND rs.status = 1"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766731479444981000-1251"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"record_id\": 1,\n      \"room_id\": 1,\n      \"check_in_date\": null,\n      \"check_out_date\": null,\n      \"record_month\": \"2025-06\",\n      \"customer_id\": null,\n      \"customer_name\": null\n    },\n    {\n      \"record_id\": 5,\n      \"room_id\": 1,\n      \"check_in_date\": \"2025-12-03T16:00:00.000Z\",\n      \"check_out_date\": \"2026-02-11T16:00:00.000Z\",\n      \"record_month\": \"2026-02\",\n      \"customer_id\": null,\n      \"customer_name\": null\n    },\n    {\n      \"record_id\": 7,\n      \"room_id\": 2,\n      \"check_in_date\": \"2026-01-13T16:00:00.000Z\",\n      \"check_out_date\": \"2026-02-11T16:00:00.000Z\",\n      \"record_month\": \"2026-01\",\n      \"customer_id\": null,\n      \"customer_name\": null\n    },\n    {\n      \"record_id\": 8,\n      \"room_id\": 2,\n      \"check_in_date\": \"2026-01-13T16:00:00.000Z\",\n      \"check_out_date\": \"2026-02-11T16:00:00.000Z\",\n      \"record_month\": \"2026-02\",\n      \"customer_id\": null,\n      \"customer_name\": null\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:44:44.017Z | SQL: DESC rooms | SUCCESS
2025-12-26T06:44:44.017Z | tools/call | {"name":"sql_query","arguments":{"sql":"DESC rooms"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766731483914322000-1252"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Field\": \"room_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"PRI\",\n      \"Default\": null,\n      \"Extra\": \"auto_increment\"\n    },\n    {\n      \"Field\": \"room_name\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"NO\",\n      \"Key\": \"UNI\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"floor\",\n      \"Type\": \"tinyint\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"room_type\",\n      \"Type\": \"varchar(50)\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"color_code\",\n      \"Type\": \"varchar(7)\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"#FFFFFF\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"ac_group_id\",\n      \"Type\": \"int\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"display_order\",\n      \"Type\": \"int\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": \"0\",\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"created_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"updated_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:44:52.693Z | SQL: SELECT customer_id, customer_name, DATE(check_in_date) as check_in, DATE(check_out_date) as check_out FROM customers WHERE check_out_date >= '2026-01-01' | SUCCESS
2025-12-26T06:44:52.693Z | tools/call | {"name":"sql_query","arguments":{"sql":"SELECT customer_id, customer_name, DATE(check_in_date) as check_in, DATE(check_out_date) as check_out FROM customers WHERE check_out_date >= '2026-01-01'"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766731492552455000-1253"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"customer_id\": 10,\n      \"customer_name\": \"矫雨彤\",\n      \"check_in\": \"2025-12-07T16:00:00.000Z\",\n      \"check_out\": \"2026-01-04T16:00:00.000Z\"\n    },\n    {\n      \"customer_id\": 11,\n      \"customer_name\": \"王嘉\",\n      \"check_in\": \"2025-12-10T16:00:00.000Z\",\n      \"check_out\": \"2026-01-07T16:00:00.000Z\"\n    },\n    {\n      \"customer_id\": 16,\n      \"customer_name\": \"董燕\",\n      \"check_in\": \"2025-12-18T16:00:00.000Z\",\n      \"check_out\": \"2026-01-15T16:00:00.000Z\"\n    },\n    {\n      \"customer_id\": 14,\n      \"customer_name\": \"谷英美\",\n      \"check_in\": \"2025-12-07T16:00:00.000Z\",\n      \"check_out\": \"2026-01-18T16:00:00.000Z\"\n    },\n    {\n      \"customer_id\": 15,\n      \"customer_name\": \"王英霞\",\n      \"check_in\": \"2025-12-17T16:00:00.000Z\",\n      \"check_out\": \"2026-01-28T16:00:00.000Z\"\n    },\n    {\n      \"customer_id\": 20,\n      \"customer_name\": \"付晓莉\",\n      \"check_in\": null,\n      \"check_out\": \"2026-01-30T16:00:00.000Z\"\n    },\n    {\n      \"customer_id\": 21,\n      \"customer_name\": \"王丹\",\n      \"check_in\": null,\n      \"check_out\": \"2026-02-01T16:00:00.000Z\"\n    },\n    {\n      \"customer_id\": 22,\n      \"customer_name\": \"林雪琦\",\n      \"check_in\": null,\n      \"check_out\": \"2026-02-03T16:00:00.000Z\"\n    },\n    {\n      \"customer_id\": 25,\n      \"customer_name\": \"田菁菁\",\n      \"check_in\": null,\n      \"check_out\": \"2026-02-09T16:00:00.000Z\"\n    },\n    {\n      \"customer_id\": 23,\n      \"customer_name\": \"丁莉\",\n      \"check_in\": null,\n      \"check_out\": \"2026-02-27T16:00:00.000Z\"\n    },\n    {\n      \"customer_id\": 24,\n      \"customer_name\": \"杨政慧\",\n      \"check_in\": null,\n      \"check_out\": \"2026-04-03T16:00:00.000Z\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-26T06:49:58.652Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-26T06:49:58.654Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-26T06:50:00.756Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T06:50:00.757Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-26T06:59:31.037Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T06:59:31.038Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-26T06:59:31.038Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-26T06:59:31.039Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-26T06:59:31.223Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-26T06:59:31.223Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-26T07:48:37.744Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-26T07:48:37.747Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-26T07:48:39.836Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T07:48:39.837Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-26T07:48:46.495Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T07:48:46.495Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-26T07:48:46.495Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-26T07:48:46.496Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-26T07:48:46.705Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-26T07:48:46.705Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-26T08:32:40.018Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-26T08:32:40.022Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-26T08:32:42.103Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T08:32:42.104Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-26T08:32:47.355Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-26T08:32:47.355Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-26T08:32:47.355Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-26T08:32:47.357Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-26T08:32:47.539Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-26T08:32:47.539Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-26T11:41:52.683Z | connection_pool_close_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-26T11:41:55.106Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-26T11:41:55.107Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-26T11:41:55.398Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-26T11:42:05.760Z | connection_pool_recreate_error | {"error":"connect ETIMEDOUT"} | connect ETIMEDOUT | RESPONSE: null
2025-12-26T11:42:05.761Z | health_check_error | {"error":"connect ETIMEDOUT"} | connect ETIMEDOUT | RESPONSE: null
2025-12-27T02:14:57.622Z | SQL: DESCRIBE score_card_records | SUCCESS
2025-12-27T02:14:57.624Z | tools/call | {"name":"sql_query","arguments":{"sql":"DESCRIBE score_card_records"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766801697507975000-108"}} | SUCCESS | RESPONSE: {"content":[{"type":"text","text":"{\n  \"result\": [\n    {\n      \"Field\": \"record_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"PRI\",\n      \"Default\": null,\n      \"Extra\": \"auto_increment\"\n    },\n    {\n      \"Field\": \"customer_id\",\n      \"Type\": \"bigint unsigned\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"card_number\",\n      \"Type\": \"int\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"record_date\",\n      \"Type\": \"date\",\n      \"Null\": \"NO\",\n      \"Key\": \"MUL\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"score_data\",\n      \"Type\": \"json\",\n      \"Null\": \"YES\",\n      \"Key\": \"\",\n      \"Default\": null,\n      \"Extra\": \"\"\n    },\n    {\n      \"Field\": \"created_at\",\n      \"Type\": \"timestamp\",\n      \"Null\": \"NO\",\n      \"Key\": \"\",\n      \"Default\": \"CURRENT_TIMESTAMP\",\n      \"Extra\": \"DEFAULT_GENERATED\"\n    }\n  ],\n  \"affectedRows\": 0\n}"}]}
2025-12-27T02:18:23.995Z | tools/call | {"name":"sql_query","arguments":{"sql":"ALTER TABLE score_card_records \nADD COLUMN image_url VARCHAR(500) NULL COMMENT '评分卡照片URL' AFTER score_data,\nADD COLUMN status TINYINT DEFAULT 0 COMMENT '状态: 0-待填写 1-已上传' AFTER image_url,\nADD COLUMN target_date DATE NULL COMMENT '目标填写日期' AFTER status,\nADD COLUMN card_type VARCHAR(20) DEFAULT 'weekly' COMMENT '卡片类型: initial/weekly/final' AFTER target_date"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766801903940113000-117"}} | DDL operations are not allowed | RESPONSE: null
2025-12-27T02:18:23.999Z | error | {"error":"DDL operations are not allowed","stack":"Error: DDL operations are not allowed\n    at FinalMCPServer.sql_query (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:206:13)\n    at FinalMCPServer.handleRequest (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:722:48)\n    at Socket.<anonymous> (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:861:43)\n    at Socket.emit (node:events:519:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)\n    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)"} | DDL operations are not allowed | RESPONSE: null
2025-12-27T02:22:21.569Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-27T02:22:21.570Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-27T02:22:21.570Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-27T02:22:21.571Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-27T02:22:21.719Z | connection_pool_created | {"host":"82.157.47.215","port":3306,"database":"aiying","connectionLimit":10} | SUCCESS | RESPONSE: {"status":"success"}
2025-12-27T02:22:21.719Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-27T02:39:10.691Z | SIGINT | {"signal":"SIGINT"} | SUCCESS | RESPONSE: {"status":"shutting_down"}
2025-12-27T02:39:10.693Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-27T02:39:12.780Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-27T02:39:12.780Z | uncaughtException | {"error":"write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.error (node:internal/console/constructor:412:26)\n    at main (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/src/server-final.js:952:11)"} | write EPIPE | RESPONSE: null
2025-12-27T05:30:26.933Z | server_start | {"name":"mysql-mcp-server","version":"1.0.0","logDir":"./.setting","logFile":".setting/mcp-mysql.log"} | SUCCESS | RESPONSE: {"status":"started"}
2025-12-27T05:30:26.935Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: null
2025-12-27T05:30:26.936Z | initialize | {"protocolVersion":"2025-11-25","capabilities":{"roots":{}},"clientInfo":{"name":"claude-code","version":"2.0.76"}} | SUCCESS | RESPONSE: {"protocolVersion":"2025-11-25","capabilities":{"tools":{"listChanged":false},"roots":{"listChanged":false}},"serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}
2025-12-27T05:30:26.978Z | tools/list | {} | SUCCESS | RESPONSE: {"tools":[{"name":"sql_query","description":"Execute SQL query, supports DDL and DML operations","inputSchema":{"type":"object","properties":{"sql":{"type":"string","description":"SQL statement to execute"}},"required":["sql"]}},{"name":"get_database_info","description":"Get database information, including database list, table list and configuration information","inputSchema":{"type":"object","properties":{}}},{"name":"get_operation_logs","description":"Get operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50"},"offset":{"type":"number","description":"Offset, default 0"}}}},{"name":"check_permissions","description":"Check database permissions for DDL, DROP, DELETE and other operations. Returns detailed permission status including readonly mode restrictions (only SELECT and SHOW allowed when readonly is enabled)","inputSchema":{"type":"object","properties":{}}},{"name":"get_ddl_sql_logs","description":"Get DDL SQL operation logs","inputSchema":{"type":"object","properties":{"limit":{"type":"number","description":"Limit count, default 50, max 500"},"offset":{"type":"number","description":"Offset, default 0"}}}}],"environment":{"READONLY":false,"ALLOW_DDL":false,"ALLOW_DROP":false,"ALLOW_DELETE":false,"MYSQL_HOST":"82.157.47.215","MYSQL_PORT":"3306","MYSQL_USER":"root","MYSQL_DATABASE":"aiying","TOOL_PREFIX":"","PROJECT_NAME":"","serverInfo":{"name":"mysql-mcp-server","version":"1.0.0"}}}
2025-12-27T05:30:30.724Z | connection_pool_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:30:30.724Z | notifications/initialized | {} | SUCCESS | RESPONSE: null
2025-12-27T05:35:23.422Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-27T05:35:27.640Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:35:27.640Z | tools/call | {"name":"sql_query","arguments":{"sql":"DESCRIBE meal_configs"},"_meta":{"claudecode/toolUseId":"mcp__mysql__sql_query-1766813720862371000-288"}} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:35:27.643Z | error | {"error":"Connection lost: The server closed the connection.","stack":"Error: Connection lost: The server closed the connection.\n    at Socket.<anonymous> (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/node_modules/mysql2/lib/base/connection.js:113:31)\n    at Socket.emit (node:events:519:28)\n    at TCP.<anonymous> (node:net:346:12)"} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:35:36.269Z | connection_pool_close_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:35:37.966Z | connection_pool_close_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:35:37.966Z | connection_pool_recreate_error | {"error":"Pool is closed."} | Pool is closed. | RESPONSE: null
2025-12-27T05:35:37.970Z | health_check_error | {"error":"Pool is closed."} | Pool is closed. | RESPONSE: null
2025-12-27T05:35:42.119Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:35:42.119Z | tools/call | {"name":"get_database_info","arguments":{"reason":"Check database connection and meal_configs table structure"},"_meta":{"claudecode/toolUseId":"mcp__mysql__get_database_info-1766813732812184000-290"}} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:35:42.120Z | error | {"error":"Connection lost: The server closed the connection.","stack":"Error: Connection lost: The server closed the connection.\n    at Socket.<anonymous> (/Users/li/.npm-global/lib/node_modules/@liangshanli/mcp-server-mysql/node_modules/mysql2/lib/base/connection.js:113:31)\n    at Socket.emit (node:events:519:28)\n    at TCP.<anonymous> (node:net:346:12)"} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:40:33.711Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-27T05:40:37.807Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:40:37.808Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:45:32.971Z | connection_pool_closed | {} | SUCCESS | RESPONSE: {"status":"closed"}
2025-12-27T05:45:36.563Z | connection_pool_recreate_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
2025-12-27T05:45:36.564Z | health_check_error | {"error":"Connection lost: The server closed the connection."} | Connection lost: The server closed the connection. | RESPONSE: null
